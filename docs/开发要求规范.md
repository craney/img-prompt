# img-prompt 项目开发要求规范

> 本文档定义了 img-prompt 项目的开发流程规范，确保团队协作效率和代码质量

---

## 1. 开发流程规范

### 1.1 迭代开发流程

所有功能迭代和修改必须遵循以下标准化流程：

#### 第一步：文档编写
在开始任何代码修改之前，必须先完成相关文档的编写：

1. **产品设计文档**
   - 明确功能需求和用户场景
   - 详细描述功能交互和界面设计
   - 定义验收标准和测试用例

2. **技术设计文档**
   - 设计技术架构和实现方案
   - 明确组件结构和接口定义
   - 评估技术风险和性能影响

#### 第二步：方案确认
- 将产品设计文档和技术设计文档提交给相关人员评审
- 等待明确的确认回复（如"对，改吧"）后才能开始开发
- 根据反馈意见调整设计方案

#### 第三步：功能开发
- 严格按照设计文档进行代码实现
- 遵循项目代码规范和架构原则
- 保持代码质量和可维护性

#### 第四步：自测验证
- 开发完成后进行完整的功能测试
- 确保所有功能点按设计要求正常工作
- 验证无误后再通知用户进行验收

#### 第五步：文档更新与提交
- 功能确认无误后，主动询问是否需要更新迭代文档
- 更新产品功能迭代文档，记录：
  - 修改内容和实现细节
  - 测试验证结果
  - 过程中遇到的问题和解决方案
- 更新技术方案文档，记录：
  - 技术实现细节
  - 代码变更说明
  - 性能优化和问题修复
- 提交代码到 Git 仓库并推送
- 为本次迭代打上 Git 标签

---

## 2. 文档编写要求

### 2.1 产品设计文档要求

#### 必须包含的内容：
- **迭代版本信息**：版本号、迭代时间、负责人
- **迭代背景**：问题描述和业务需求
- **设计目标**：产品目标、技术目标、用户体验目标
- **功能详细设计**：
  - 页面结构和布局设计
  - 交互流程和状态管理
  - 视觉设计规范
- **验收标准**：功能验收、视觉验收、性能验收
- **测试策略**：测试覆盖范围和测试方法

### 2.2 技术设计文档要求

#### 必须包含的内容：
- **技术架构设计**：组件结构、数据流设计
- **核心实现方案**：关键组件和算法设计
- **API 设计**：接口定义和数据结构
- **性能优化策略**：加载优化、代码分割
- **错误处理机制**：异常情况处理方案
- **实施时间表**：开发任务分解和时间节点

---

## 3. 代码开发要求

### 3.1 开发前准备
- 详细了解项目架构和技术栈
- 阅读相关文档和代码规范
- 确保开发环境配置正确

### 3.2 编码规范
- 遵循项目 TypeScript 类型安全要求
- 保持代码风格一致性
- 添加必要的注释和文档说明
- 确保组件的可复用性和可维护性

### 3.3 测试要求
- 进行完整的功能测试
- 验证响应式设计适配
- 测试多语言支持功能
- 检查浏览器兼容性

---

## 4. 文档更新要求

### 4.1 产品功能迭代文档更新
每次功能修改后必须更新 [产品功能迭代.md](file:///Users/zhaohe/Documents/workspace/img-prompt/docs/%E4%BA%A7%E5%93%81%E5%8A%9F%E8%83%BD%E8%BF%AD%E4%BB%A3.md) 文件，包含：

1. **修改记录**：
   - 修改时间
   - 修改类型（功能新增/错误修复/性能优化）
   - 修改内容详细描述

2. **技术实现**：
   - 涉及的文件和组件
   - 核心代码变更说明
   - 接口调整说明

3. **测试验证**：
   - 测试环境和测试方法
   - 验证结果
   - 性能指标

4. **问题记录**：
   - 遇到的问题和解决方案
   - 踩坑记录和经验总结

### 4.2 技术方案文档更新
每次技术修改后必须更新对应的技术方案文档，包含：

1. **技术变更说明**：
   - 架构调整
   - 组件优化
   - 性能改进

2. **实现细节**：
   - 代码实现要点
   - 关键算法说明
   - 配置调整

---

## 5. Git 提交和版本管理

### 5.1 提交规范
- 遵循 Git 提交信息规范
- 提交信息必须包含语义化标识和详细说明
- 每次提交应聚焦于单一功能或修复

### 5.2 版本标签
- 每次功能迭代完成后打上版本标签
- 标签命名规范：`功能名称-版本号-完成状态`
- 例如：`Image-to-Prompt-v3.0.3-功能优化完成`

---

## 6. 沟通协作要求

### 6.1 确认机制
- 所有修改必须在方案确认后进行
- 使用明确的确认指令开始开发（如"对，改吧"）
- 不得擅自修改未经确认的方案

### 6.2 测试反馈
- 功能开发完成后先自行测试
- 确保无误后再通知用户验收
- 及时响应用户反馈和修改要求

### 6.3 文档维护
- 功能确认无误后主动询问文档更新需求
- 详细记录开发过程中的问题和解决方案
- 保持文档与代码的一致性

---

**文档版本**：v1.0  
**创建时间**：2025-09-12  
**适用项目**：img-prompt (ImgPrompt.He)