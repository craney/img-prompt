# ImagePrompt.He æŠ€æœ¯è®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

æœ¬æ–‡æ¡£æ€»ç»“äº† ImagePrompt.He é¡¹ç›®çš„æŠ€æœ¯è®¾è®¡é€»è¾‘ï¼Œæ•´åˆäº†äº§å“è¿­ä»£v1ã€v2å’Œv3çš„æŠ€æœ¯æ–¹æ¡ˆå’Œå®ç°ã€‚

## è¿­ä»£ç‰ˆæœ¬å†å²ä¸æŠ€æœ¯æ¼”è¿›

### v1.0 - è®¤è¯ç³»ç»ŸåŸºç¡€æ¶æ„é‡æ„
**æ ¸å¿ƒå˜æ›´**ï¼š
- å°†è®¤è¯ç³»ç»Ÿä» Clerk è¿ç§»è‡³ NextAuth.js
- é‡æ„æ•°æ®åº“è¿æ¥é…ç½®ï¼Œè§£å†³è¿æ¥å­—ç¬¦ä¸²é—®é¢˜
- å®ç° GitHub OAuth å’Œ Email Magic Link è®¤è¯æ–¹å¼

**æŠ€æœ¯å®ç°**ï¼š

#### 1. æ•°æ®åº“è¿æ¥é‡æ„
**æ–‡ä»¶**ï¼š`packages/db/index.ts`
```
// ä¿®æ”¹å‰
import { createKysely } from "@vercel/postgres-kysely";
export const db = createKysely<DB>();

// ä¿®æ”¹å
import { createClient } from "@vercel/postgres";
import { Kysely, PostgresDialect } from "kysely";

const client = createClient({
  connectionString: process.env.POSTGRES_URL,
});

export const db = new Kysely<DB>({
  dialect: new PostgresDialect({
    pool: client as any,
  }),
});
```

#### 2. NextAuth é…ç½®å®ç°
**æ–°å¢æ–‡ä»¶**ï¼š`packages/auth/nextauth.ts`
```
import { NextAuthOptions } from "next-auth";
import { KyselyAdapter } from "@auth/kysely-adapter";
import GitHubProvider from "next-auth/providers/github";
import EmailProvider from "next-auth/providers/email";

export const authOptions: NextAuthOptions = {
  session: { strategy: "jwt" },
  pages: { signIn: "/login" },
  adapter: KyselyAdapter(db),
  providers: [
    GitHubProvider({
      clientId: env.GITHUB_CLIENT_ID,
      clientSecret: env.GITHUB_CLIENT_SECRET,
    }),
    EmailProvider({
      sendVerificationRequest: async ({ identifier, url }) => {
        // Resend é‚®ä»¶å‘é€é€»è¾‘
      },
    }),
  ],
  callbacks: {
    session({ token, session }) {
      // ä¼šè¯å›è°ƒå¤„ç†
    },
    async jwt({ token, user }) {
      // JWT ä»¤ç‰Œå¤„ç†
    },
  },
};
```

#### 3. tRPC è®¤è¯ä¸Šä¸‹æ–‡è¿ç§»
**æ–‡ä»¶**ï¼š`packages/api/src/trpc.ts`
```
// ä¿®æ”¹å‰
import {auth, currentUser, getAuth} from "@clerk/nextjs/server";
type AuthObject = ReturnType<typeof getAuth>;

// ä¿®æ”¹å
import { getToken } from "next-auth/jwt";

export const createTRPCContext = async (opts: {
  headers: Headers;
  req?: NextRequest;
}) => {
  const token = opts.req ? await getToken({ req: opts.req }) : null;
```

### v2.0 - é¦–é¡µä¸å“ç‰Œè®¾è®¡å®ç°
**æ ¸å¿ƒå˜æ›´**ï¼š
- å¤åˆ» https://imageprompt.org/ é¦–é¡µè®¾è®¡
- å»ºç«‹ç»Ÿä¸€çš„å“ç‰Œå½¢è±¡å’Œè§†è§‰è§„èŒƒ
- å®ç°å“åº”å¼é¡µé¢å¸ƒå±€å’Œå›½é™…åŒ–æ”¯æŒ

**æŠ€æœ¯å®ç°**ï¼š

#### 1. ç»„ä»¶æ¶æ„è®¾è®¡
```
// apps/nextjs/src/app/[lang]/(marketing)/page.tsx
export default async function ImagePromptHomePage({
  params: { lang },
}: {
  params: { lang: Locale };
}) {
  const dict = await getDictionary(lang);
  
  return (
    <>
      {/* SEO Metadata */}
      <Metadata 
        title={dict.imageprompt.meta.title}
        description={dict.imageprompt.meta.description}
      />
      
      {/* Hero Section */}
      <ImagePromptHeroSection dict={dict.imageprompt.hero} />
      
      {/* Features Grid */}
      <ImagePromptFeaturesGrid 
        features={dict.imageprompt.features}
        interested={dict.imageprompt.interested}
      />
      
      {/* Tools Suite */}
      <ImagePromptToolsSuite dict={dict.imageprompt.tools} />
    </>
  );
}
```

#### 2. æ ¸å¿ƒç»„ä»¶å®ç°

**HeroSection ç»„ä»¶**:
```
// apps/nextjs/src/components/imageprompt/hero-section.tsx
import { ColourfulText } from "@saasfly/ui/colorful-text";
import { Button } from "@saasfly/ui/button";

interface ImagePromptHeroSectionProps {
  dict: {
    title_prefix: string;
    title_highlight: string;
    subtitle: string;
    cta_primary: string;
    cta_secondary: string;
  };
}

export function ImagePromptHeroSection({ dict }: ImagePromptHeroSectionProps) {
  return (
    <section className="relative w-full py-12 md:py-24 lg:py-32 xl:py-48">
      <div className="container px-4 md:px-6">
        <div className="flex flex-col items-center space-y-4 text-center">
          <div className="space-y-2">
            <h1 className="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl lg:text-6xl">
              {dict.title_prefix}{" "}
              <ColourfulText text={dict.title_highlight} />
            </h1>
            <p className="mx-auto max-w-[700px] text-gray-500 md:text-xl dark:text-gray-400">
              {dict.subtitle}
            </p>
          </div>
          <div className="space-x-4">
            <Button>{dict.cta_primary}</Button>
            <Button variant="outline">{dict.cta_secondary}</Button>
          </div>
        </div>
      </div>
    </section>
  );
}
```

#### 3. å›½é™…åŒ–å†…å®¹æ‰©å±•
```
{
  "imageprompt": {
    "meta": {
      "title": "ImagePrompt.org - Create Better AI Art",
      "description": "Inspire ideas, Enhance image prompt, Create masterpieces"
    },
    "hero": {
      "title_prefix": "Create Better AI Art with",
      "title_highlight": "Image Prompt", 
      "subtitle": "Inspire ideas, Enhance image prompt, Create masterpieces",
      "cta_primary": "Try it now!",
      "cta_secondary": "Tutorials"
    },
    "features": [
      {
        "id": "image_to_prompt",
        "title": "Image to Prompt",
        "description": "Convert Image to Prompt to generate your own image",
        "icon": "Image"
      },
      {
        "id": "magic_enhance", 
        "title": "Magic Enhance",
        "description": "Transform simple text into detailed, descriptive image prompt",
        "icon": "Wand2"
      },
      {
        "id": "ai_describe",
        "title": "AI Describe Image",
        "description": "Let AI help you understand and analyze any image in detail", 
        "icon": "Eye"
      },
      {
        "id": "ai_generator",
        "title": "AI Image Generator", 
        "description": "Transform your image prompt into stunning visuals with AI-powered generation",
        "icon": "Sparkles"
      }
    ]
  }
}
```

### v3.0 - Image to Prompt æ ¸å¿ƒåŠŸèƒ½é¡µé¢å®ç°
**æ ¸å¿ƒå˜æ›´**ï¼š
- å®ç°Image to Promptæ ¸å¿ƒåŠŸèƒ½é¡µé¢
- æ”¯æŒå¤šç§ä¸Šä¼ æ–¹å¼
- å®ç°æ–‡ä»¶æ ¼å¼éªŒè¯å’Œå¤§å°é™åˆ¶
- å®ç°å¤šè¯­è¨€æ”¯æŒ

**æŠ€æœ¯å®ç°**ï¼š

#### 1. ç»„ä»¶æ¶æ„è®¾è®¡
```
apps/nextjs/src/app/[lang]/(tools)/
â”œâ”€â”€ image-to-prompt/
â”‚   â”œâ”€â”€ page.tsx                      # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ loading.tsx                   # åŠ è½½çŠ¶æ€
â”‚   â”œâ”€â”€ error.tsx                     # é”™è¯¯å¤„ç†
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ image-upload-section.tsx  # ä¸Šä¼ åŒºåŸŸ
â”‚       â”œâ”€â”€ image-preview-section.tsx # é¢„è§ˆåŒºåŸŸ
â”‚       â”œâ”€â”€ feature-tabs.tsx          # åŠŸèƒ½åˆ‡æ¢
â”‚       â”œâ”€â”€ model-selection.tsx       # AIæ¨¡å‹é€‰æ‹©
â”‚       â”œâ”€â”€ language-selector.tsx     # è¯­è¨€é€‰æ‹©å™¨
â”‚       â””â”€â”€ prompt-generator.tsx      # æç¤ºè¯ç”Ÿæˆç»„ä»¶
```

#### 2. ç»„ä»¶å®ç°

**ImageToPromptPage ç»„ä»¶**:
```
// apps/nextjs/src/app/[lang]/(tools)/image-to-prompt/page.tsx
import { generateMetadata } from "@/app/[lang]/(tools)/image-to-prompt/metadata";
import { ImageToPromptClient } from "@/app/[lang]/(tools)/image-to-prompt/client";

export default ImageToPromptClient;

export { generateMetadata };

```

**ImageToPromptClient ç»„ä»¶**:
```
// apps/nextjs/src/app/[lang]/(tools)/image-to-prompt/client.tsx
import { useState } from "react";
import { Icons } from "@saasfly/ui/icons";
import { Button } from "@saasfly/ui/button";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@saasfly/ui/tabs";
import { Separator } from "@saasfly/ui/separator";

import { ImageToPromptHeader } from "@/app/[lang]/(tools)/image-to-prompt/components/image-to-prompt-header";
import { FeatureTabs } from "@/app/[lang]/(tools)/image-to-prompt/components/feature-tabs";
import { ImageUploadSection } from "@/app/[lang]/(tools)/image-to-prompt/components/image-upload-section";
import { ImagePreviewSection } from "@/app/[lang]/(tools)/image-to-prompt/components/image-preview-section";
import { ModelSelection } from "@/app/[lang]/(tools)/image-to-prompt/components/model-selection";
import { PromptGenerator } from "@/app/[lang]/(tools)/image-to-prompt/components/prompt-generator";

export function ImageToPromptClient() {
  const [file, setFile] = useState<File | null>(null);
  const [model, setModel] = useState<string>("general");
  const [language, setLanguage] = useState<string>("english");

  return (
    <div className="container mx-auto px-4 py-8">
      <ImageToPromptHeader />
      <FeatureTabs />
      <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <ImageUploadSection
          file={file}
          setFile={setFile}
          model={model}
          language={language}
        />
        <ImagePreviewSection file={file} />
      </div>
      <Separator className="my-4" />
      <ModelSelection model={model} setModel={setModel} />
      <PromptGenerator language={language} setLanguage={setLanguage} />
    </div>
  );
}

```


## ç³»ç»Ÿæ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„
```
apps/nextjs/src/app/[lang]/(tools)/
â”œâ”€â”€ image-to-prompt/
â”‚   â”œâ”€â”€ page.tsx                      # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ loading.tsx                   # åŠ è½½çŠ¶æ€
â”‚   â”œâ”€â”€ error.tsx                     # é”™è¯¯å¤„ç†
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ image-upload-section.tsx  # ä¸Šä¼ åŒºåŸŸ
â”‚       â”œâ”€â”€ image-preview-section.tsx # é¢„è§ˆåŒºåŸŸ
â”‚       â”œâ”€â”€ feature-tabs.tsx          # åŠŸèƒ½åˆ‡æ¢
â”‚       â”œâ”€â”€ model-selection.tsx       # AIæ¨¡å‹é€‰æ‹©
â”‚       â”œâ”€â”€ language-selector.tsx     # è¯­è¨€é€‰æ‹©å™¨
â”‚       â””â”€â”€ prompt-generator.tsx      # æç¤ºè¯ç”Ÿæˆç»„ä»¶
```

### ç»„ä»¶æ¶æ„
```
ImageToPromptPage (æœåŠ¡ç«¯ç»„ä»¶) 
â”œâ”€â”€ generateMetadata (SEOå…ƒæ•°æ®)
â””â”€â”€ ImageToPromptClient (å®¢æˆ·ç«¯ç»„ä»¶)
    â”œâ”€â”€ ImageToPromptHeader
    â”œâ”€â”€ FeatureTabs
    â”œâ”€â”€ åŒæ å¸ƒå±€
    â”‚   â”œâ”€â”€ ImageUploadSection
    â”‚   â””â”€â”€ ImagePreviewSection
    â”œâ”€â”€ ModelSelection
    â””â”€â”€ PromptGenerator
```

## æ ¸å¿ƒè®¾è®¡é€»è¾‘

### 1. çŠ¶æ€ç®¡ç†ç­–ç•¥
- **ä¸Šä¼ çŠ¶æ€**: `useState<File | null>(null)`
- **æ¨¡å‹é€‰æ‹©**: `useState<string>("general")`
- **è¯­è¨€é€‰æ‹©**: `useState<string>("english")`
- **ç»„ä»¶é€šä¿¡**: é€šè¿‡propså›è°ƒå‡½æ•°ä¼ é€’çŠ¶æ€

### 2. æ–‡ä»¶ä¸Šä¼ è®¾è®¡
æ”¯æŒå¤šç§ä¸Šä¼ æ–¹å¼ï¼š
- æ‹–æ‹½ä¸Šä¼ 
- æ–‡ä»¶é€‰æ‹©ä¸Šä¼ 
- URLä¸Šä¼ 

éªŒè¯æœºåˆ¶ï¼š
- æ–‡ä»¶æ ¼å¼éªŒè¯ (PNG, JPG, WEBP)
- æ–‡ä»¶å¤§å°é™åˆ¶ (5MB)
- URLæœ‰æ•ˆæ€§æ£€æŸ¥

### 3. UI/UX è®¾è®¡è§„èŒƒ

#### è‰²å½©ç³»ç»Ÿ
- **ä¸»è‰²è°ƒ**: ç´«è‰²ç³» (#8B5CF6, #7C3AED, #6D28D9)
- **çŠ¶æ€è‰²å½©**:
  - æ¿€æ´»çŠ¶æ€: `border-purple-500 bg-purple-50`
  - æ‚¬åœçŠ¶æ€: `hover:border-purple-400`
  - æ–‡å­—è‰²å½©: `text-purple-600`

#### å¸ƒå±€è§„èŒƒ
- **å®¹å™¨**: `container mx-auto px-4 py-8`
- **ç½‘æ ¼**: `grid grid-cols-1 lg:grid-cols-2 gap-8`
- **å¡ç‰‡é—´è·**: `gap-4` (æ¨¡å‹é€‰æ‹©åŒºåŸŸ)
- **å†…è¾¹è·**: `p-4, p-8` (æ ¹æ®ç»„ä»¶å¤§å°)

#### äº¤äº’åŠ¨ç”»
- **è¿‡æ¸¡æ—¶é—´**: `transition-all duration-200`
- **æ‚¬åœæ•ˆæœ**: `hover:shadow-md`
- **æ‹–æ‹½åé¦ˆ**: è¾¹æ¡†é¢œè‰²å’ŒèƒŒæ™¯è‰²å˜åŒ–

### 4. å›½é™…åŒ–è®¾è®¡
ä½¿ç”¨å­—å…¸æ–‡ä»¶ç»“æ„ç®¡ç†å¤šè¯­è¨€å†…å®¹ï¼š
```
{
  "imageToPrompt": {
    "meta": {
      "title": "Free Image to Prompt Generator - ImgPrompt.He",
      "description": "Convert images to detailed AI prompts. Upload your image and generate optimized prompts for Flux, Midjourney, Stable Diffusion and more."
    },
    "header": {
      "title": "Free Image to Prompt Generator",
      "subtitle": "Convert Image to Prompt to generate your own image"
    },
    "tabs": {
      "imageToPrompt": "Image to Prompt",
      "textToPrompt": "Text to Prompt"
    },
    "upload": {
      "dragText": "Upload a photo or drag and drop",
      "formatText": "PNG, JPG, or WEBP up to 5MB",
      "uploadButton": "Upload Image",
      "urlPlaceholder": "Input Image URL"
    },
    "preview": {
      "title": "Image Preview",
      "placeholder": "Your image will show here"
    },
    "models": {
      "general": {
        "title": "General Image Prompt",
        "description": "Natural language description of the image"
      },
      "flux": {
        "title": "Flux",
        "description": "Optimized for state-of-the-art Flux AI models, concise natural language"
      },
      "midjourney": {
        "title": "Midjourney", 
        "description": "Tailored for Midjourney generation with Midjourney parameters"
      },
      "stableDiffusion": {
        "title": "Stable Diffusion",
        "description": "Formatted for Stable Diffusion models"
      }
    },
    "generator": {
      "languageLabel": "Prompt Language:",
      "generateButton": "Generate Prompt",
      "languages": {
        "english": "English",
        "chinese": "ä¸­æ–‡",
        "japanese": "æ—¥æœ¬èª",
        "korean": "í•œêµ­ì–´"
      }
    }
  }
}
```

### 5. å“åº”å¼è®¾è®¡
é‡‡ç”¨ç½‘æ ¼å¸ƒå±€ç³»ç»Ÿï¼š
- ç§»åŠ¨ç«¯: å•åˆ—å¸ƒå±€
- æ¡Œé¢ç«¯: åŒåˆ—å¸ƒå±€
- å¹³æ¿ç«¯: è‡ªé€‚åº”å¸ƒå±€

### 6. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
- **ä»£ç åˆ†å‰²**: ç»„ä»¶çº§åˆ«åˆ†å‰²
- **å›¾æ ‡å¤ç”¨**: æ‰©å±•ç°æœ‰å›¾æ ‡ç³»ç»Ÿ
- **æ ·å¼å¤ç”¨**: 100%å¤ç”¨ç°æœ‰UIç»„ä»¶
- **ç±»å‹å®‰å…¨**: å®Œæ•´TypeScriptæ”¯æŒ

## å¯¹å¤–æ¥å£äº¤äº’è®¾è®¡

### 1. Cozeæ–‡ä»¶ä¸Šä¼ æ¥å£
- **æ¥å£åœ°å€**: `https://api.coze.cn/v1/files/upload`
- **è¯·æ±‚æ–¹æ³•**: POST
- **è¯·æ±‚å¤´**:
  ```
  Authorization: Bearer ${COZE_API_TOKEN}
  Content-Type: multipart/form-data
  ```
- **è¯·æ±‚å‚æ•°**:
  ```typescript
  interface CozeFileUploadRequest {
    file: File; // ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶
  }
  ```
- **å“åº”æ•°æ®**:
  ```typescript
  interface CozeFileUploadResponse {
    code: number;        // çŠ¶æ€ç ï¼Œ0è¡¨ç¤ºæˆåŠŸ
    msg: string;         // çŠ¶æ€æ¶ˆæ¯
    data: {
      file_id: string;   // æ–‡ä»¶IDï¼Œç”¨äºåç»­æ“ä½œ
      file_url: string;  // æ–‡ä»¶è®¿é—®URL
    };
  }
  ```
- **åŠŸèƒ½**: ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶åˆ°Cozeå¹³å°å¹¶è·å–fileId
- **å®‰å…¨æªæ–½**: è®¿é—®ä»¤ç‰Œå­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­ï¼Œä¸åœ¨å‰ç«¯æš´éœ²

### 2. Cozeå·¥ä½œæµè°ƒç”¨æ¥å£
- **æ¥å£åœ°å€**: `https://api.coze.cn/v1/workflow/run`
- **è¯·æ±‚æ–¹æ³•**: POST
- **è¯·æ±‚å¤´**:
  ```
  Authorization: Bearer ${COZE_API_TOKEN}
  Content-Type: application/json
  Accept: application/json
  User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
  ```
- **è¯·æ±‚å‚æ•°**:
  ```typescript
  interface CozeWorkflowRunRequest {
    workflow_id: "7548376142701658148"; // å›ºå®šçš„å·¥ä½œæµID
    parameters: {
      img: {
        file_id: string;     // ä¸Šä¼ æ–‡ä»¶è·å¾—çš„fileId
      };
      promptType: string;    // æç¤ºè¯ç±»å‹ (Normal, Flux, Midjourney, StableDiffusion)
      lang: string;          // æç¤ºè¯è¯­è¨€ (english, chinese, japanese, korean)
    };
  }
  ```
- **å“åº”æ•°æ®**:
  ```typescript
  interface CozeWorkflowRunResponse {
    code: number;           // çŠ¶æ€ç ï¼Œ0è¡¨ç¤ºæˆåŠŸ
    msg: string;            // çŠ¶æ€æ¶ˆæ¯
    data: string;           // JSONå­—ç¬¦ä¸²ï¼Œéœ€è¦è¿›ä¸€æ­¥è§£æ
    debug_url?: string;     // è°ƒè¯•URL
  }
  
  // dataå­—æ®µè§£æåçš„ç»“æ„ç¤ºä¾‹
  interface CozeWorkflowData {
    prompt: string;         // ç”Ÿæˆçš„æç¤ºè¯ç»“æœ
    // å…¶ä»–å¯èƒ½çš„å­—æ®µ
  }
  ```
- **åŠŸèƒ½**: æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„æ¨¡å‹å’Œä¸Šä¼ çš„fileIdç”Ÿæˆæç¤ºè¯
- **å‚æ•°æ˜ å°„**:
  - General Image Prompt â†’ Normal
  - Flux â†’ Flux
  - Midjourney â†’ Midjourney
  - Stable Diffusion â†’ StableDiffusion
  - è¯­è¨€å‚æ•°æ˜ å°„ï¼šå‰ç«¯è¯­è¨€å€¼ç›´æ¥ä¼ é€’ç»™Cozeæ¥å£çš„langå‚æ•°

### v3.1 - é¦–é¡µæŒ‰é’®è·³è½¬åŠŸèƒ½å®ç°

#### ğŸ“ è¿­ä»£èƒŒæ™¯

ä¸ºæå‡ç”¨æˆ·ä½“éªŒå’ŒåŠŸèƒ½å¯¼èˆªï¼Œéœ€è¦ä¸ºé¦–é¡µçš„ä¸¤ä¸ªæ ¸å¿ƒæŒ‰é’®ï¼ˆ"ç«‹å³è¯•ç”¨"å’Œ"å›¾ç‰‡è½¬æç¤ºè¯"ï¼‰æ·»åŠ è·³è½¬åŠŸèƒ½ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿç›´æ¥ä»é¦–é¡µè®¿é—® Image to Prompt å·¥å…·é¡µé¢ã€‚

#### ğŸ¯ è¿­ä»£ç›®æ ‡

##### æŠ€æœ¯ç›®æ ‡
- ä½¿ç”¨ Next.js Link ç»„ä»¶å®ç°å£°æ˜å¼å¯¼èˆª
- ä¿æŒå›½é™…åŒ–è·¯ç”±æ”¯æŒ
- ç¡®ä¿SEOå‹å¥½æ€§å’Œæ€§èƒ½ä¼˜åŒ–
- ç»´æŒç°æœ‰è®¾è®¡é£æ ¼å’Œäº¤äº’ä½“éªŒ

#### ğŸ”§ æŠ€æœ¯å®ç°æ–¹æ¡ˆ

##### 1. æŠ€æœ¯é€‰å‹åˆ†æ

**æ–¹æ¡ˆé€‰æ‹©**: Next.js Link ç»„ä»¶å£°æ˜å¼å¯¼èˆª

**é€‰æ‹©ç†ç”±**:
- âœ… SEO å‹å¥½ï¼Œæœ‰åŠ©äºé¡µé¢ç´¢å¼•
- âœ… æ€§èƒ½æ›´å¥½ï¼Œæ”¯æŒé¢„åŠ è½½åŠŸèƒ½
- âœ… ç¬¦åˆ Next.js æœ€ä½³å®è·µ
- âœ… ä»£ç ç®€æ´ï¼Œç»´æŠ¤å®¹æ˜“

**å¯¹æ¯”æ–¹æ¡ˆ**: useRouter + onClick äº‹ä»¶å¤„ç†
- âŒ SEO ä¸å‹å¥½
- âŒ æ— é¢„åŠ è½½åŠŸèƒ½
- âŒ å¿…é¡»ä½¿ç”¨å®¢æˆ·ç«¯æ¸²æŸ“

##### 2. ç»„ä»¶æ¶æ„è®¾è®¡

**æ¶‰åŠæ–‡ä»¶**:
```
apps/nextjs/src/app/[lang]/(marketing)/page.tsx          # ä¸»é¡µé¢è°ƒç”¨
components/imageprompt/hero-section.tsx                  # Heroç»„ä»¶å®ç°
```

**æ•°æ®æµè®¾è®¡**:
```
Marketing Page (lang) â†’ Hero Section (dict, lang) â†’ Link Components (/{lang}/image-to-prompt)
```

##### 3. æ ¸å¿ƒå®ç°è®¾è®¡

**ä¸»é¡µé¢è°ƒç”¨ä¿®æ”¹**:
```typescript
// apps/nextjs/src/app/[lang]/(marketing)/page.tsx
export default async function ImagePromptHomePage({
  params: { lang },
}: {
  params: {
    lang: Locale;
  };
}) {
  const dict = await getDictionary(lang);

  return (
    <>
      {/* Hero Section - ä¼ é€’ lang å‚æ•° */}
      <ImagePromptHeroSection 
        dict={dict.imageprompt.hero} 
        lang={lang} 
      />
      
      {/* ... å…¶ä»–ç»„ä»¶ ... */}
    </>
  );
}
```

**Hero ç»„ä»¶æ¥å£æ›´æ–°**:
```typescript
interface ImagePromptHeroSectionProps {
  dict: {
    title_prefix: string;
    title_highlight: string;
    title_suffix: string;
    subtitle: string;
    cta_primary: string;
    cta_secondary: string;
  };
  lang: string; // æ–°å¢è¯­è¨€å‚æ•°
}
```

**Link ç»„ä»¶å®ç°**:
```typescript
"use client";

import Link from "next/link";
import { ColourfulText } from "@saasfly/ui/colorful-text";
import { Button } from "@saasfly/ui/button";

export function ImagePromptHeroSection({ dict, lang }: ImagePromptHeroSectionProps) {
  const targetPath = `/${lang}/image-to-prompt`;

  return (
    <section className="container pt-20 pb-16">
      {/* ... å…¶ä»–å†…å®¹ ... */}
      
      {/* CTA æŒ‰é’®ç»„ */}
      <div className="flex flex-col sm:flex-row gap-4 mb-16">
        <Link href={targetPath} prefetch={true}>
          <Button 
            size="lg" 
            className="bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 text-lg rounded-full w-full"
          >
            {dict.cta_primary}
          </Button>
        </Link>
        
        <Link href={targetPath} prefetch={true}>
          <Button 
            size="lg" 
            variant="outline" 
            className="border-purple-200 text-purple-600 hover:bg-purple-50 px-8 py-3 text-lg rounded-full w-full"
          >
            {dict.cta_secondary}
          </Button>
        </Link>
      </div>
    </section>
  );
}
```

##### 4. å›½é™…åŒ–è·¯ç”±è®¾è®¡

**è·¯ç”±ç»“æ„**:
```
/en/image-to-prompt    # è‹±æ–‡ç‰ˆæœ¬
/zh/image-to-prompt    # ä¸­æ–‡ç‰ˆæœ¬  
/ja/image-to-prompt    # æ—¥æ–‡ç‰ˆæœ¬
/ko/image-to-prompt    # éŸ©æ–‡ç‰ˆæœ¬
```

**å‚æ•°ä¼ é€’æœºåˆ¶**:
- ä»ä¸»é¡µé¢ä¼ é€’ `lang` å‚æ•°
- åœ¨ Hero ç»„ä»¶ä¸­æ„å»ºå®Œæ•´è·¯å¾„
- ç¡®ä¿ä¸ç°æœ‰å›½é™…åŒ–ç»“æ„ä¸€è‡´

##### 5. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

**é¢„åŠ è½½æœºåˆ¶**:
- ä½¿ç”¨ `prefetch={true}` å¯ç”¨é¢„åŠ è½½
- é¼ æ ‡æ‚¬åœæ—¶è‡ªåŠ¨åŠ è½½ç›®æ ‡é¡µé¢
- æå‡é¡µé¢åˆ‡æ¢ä½“éªŒ

**SEO ä¼˜åŒ–**:
- ä½¿ç”¨å£°æ˜å¼ Link ç»„ä»¶
- ç¡®ä¿æœç´¢å¼•æ“å¯ä»¥è¯†åˆ«é“¾æ¥
- æ­£ç¡®ä¼ é€’é¡µé¢æƒé‡

##### 6. é”™è¯¯å¤„ç†æœºåˆ¶

**è·¯ç”±éªŒè¯**:
- ç¡®ä¿ `lang` å‚æ•°æœ‰æ•ˆæ€§
- å¤„ç†æ— æ•ˆè¯­è¨€ä»£ç 
- æä¾›åˆé€‚çš„é™çº§æ–¹æ¡ˆ

**åŠ è½½çŠ¶æ€**:
- é¢„åŠ è½½æ—¶æ˜¾ç¤ºåŠ è½½çŠ¶æ€
- å¤„ç†é¡µé¢åŠ è½½å¤±è´¥æƒ…å†µ
- æä¾›ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

#### ğŸ¨ UI/UX è®¾è®¡è§„èŒƒ

##### è§†è§‰ä¸€è‡´æ€§
- ä¿æŒæŒ‰é’®ç°æœ‰æ ·å¼å’Œå¸ƒå±€
- ç»´æŒç´«è‰²ä¸»é¢˜è‰²å½©ç³»ç»Ÿ
- ç¡®ä¿å“åº”å¼è®¾è®¡é€‚é…

##### äº¤äº’ä½“éªŒ
- é¼ æ ‡æ‚¬åœæ•ˆæœä¿æŒä¸å˜
- ç‚¹å‡»åé¦ˆä¿æŒä¸€è‡´
- é¡µé¢åˆ‡æ¢åŠ¨ç”»æµç•…

#### ğŸ“Š æŠ€æœ¯æ€§èƒ½æŒ‡æ ‡

##### æ€§èƒ½è¦æ±‚
- é¡µé¢é¢„åŠ è½½ï¼šé¼ æ ‡æ‚¬åœæ—¶é¢„åŠ è½½ç›®æ ‡é¡µé¢
- åˆ‡æ¢é€Ÿåº¦ï¼š< 1ç§’
- å†…å­˜ä½¿ç”¨ï¼šåˆç†çš„é¢„åŠ è½½ç­–ç•¥

##### å…¼å®¹æ€§è¦æ±‚
- æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨
- ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½
- SEOå‹å¥½æ€§

#### ğŸ§ª æµ‹è¯•ç­–ç•¥

##### åŠŸèƒ½æµ‹è¯•
- [ ] æŒ‰é’®ç‚¹å‡»è·³è½¬åŠŸèƒ½æ­£å¸¸
- [ ] å›½é™…åŒ–è·¯ç”±æ­£ç¡®ä¼ é€’
- [ ] é¡µé¢åŠ è½½å’Œåˆ‡æ¢æµç•…
- [ ] æŒ‰é’®æ ·å¼å’Œäº¤äº’æ•ˆæœä¿æŒä¸€è‡´

##### å…¼å®¹æ€§æµ‹è¯•
- [ ] å¤šè¯­è¨€ç‰ˆæœ¬æµ‹è¯•
- [ ] ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•
- [ ] ä¸åŒæµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•

##### æ€§èƒ½æµ‹è¯•
- [ ] é¡µé¢é¢„åŠ è½½åŠŸèƒ½éªŒè¯
- [ ] é¡µé¢åˆ‡æ¢é€Ÿåº¦æµ‹è¯•
- [ ] å†…å­˜ä½¿ç”¨ç›‘æ§

#### ğŸ”§ å®æ–½è®¡åˆ’

##### å¼€å‘æ­¥éª¤
1. ä¿®æ”¹ä¸»é¡µé¢è°ƒç”¨ï¼Œä¼ é€’ `lang` å‚æ•°
2. æ›´æ–° Hero ç»„ä»¶æ¥å£å’Œå®ç°
3. ä½¿ç”¨ Link ç»„ä»¶æ›¿æ¢é™æ€æŒ‰é’®
4. æ·»åŠ é¢„åŠ è½½åŠŸèƒ½
5. æµ‹è¯•å¤šè¯­è¨€ç‰ˆæœ¬å…¼å®¹æ€§

##### æµ‹è¯•æ­¥éª¤
1. æœ¬åœ°å¼€å‘ç¯å¢ƒæµ‹è¯•
2. å¤šè¯­è¨€ç‰ˆæœ¬éªŒè¯
3. ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•
4. æ€§èƒ½å’ŒSEOéªŒè¯
5. éƒ¨ç½²ç¯å¢ƒéªŒè¯

#### ğŸ¯ æˆåŠŸéªŒæ”¶æ ‡å‡†

##### åŠŸèƒ½éªŒæ”¶
- [ ] ä¸¤ä¸ªæŒ‰é’®éƒ½èƒ½æ­£ç¡®è·³è½¬åˆ° Image to Prompt é¡µé¢
- [ ] è·³è½¬è·¯å¾„åŒ…å«æ­£ç¡®çš„è¯­è¨€å‚æ•°
- [ ] é¡µé¢åˆ‡æ¢è¿‡ç¨‹æµç•…æ— å¡é¡¿
- [ ] æŒ‰é’®æ ·å¼å’Œäº¤äº’æ•ˆæœä¿æŒä¸å˜

##### æ€§èƒ½éªŒæ”¶
- [ ] é¡µé¢åˆ‡æ¢æ—¶é—´ < 1ç§’
- [ ] é¢„åŠ è½½åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ— å†…å­˜æ³„æ¼é—®é¢˜
- [ ] ç§»åŠ¨ç«¯ä½“éªŒè‰¯å¥½

##### SEOéªŒæ”¶
- [ ] é“¾æ¥å¯è¢«æœç´¢å¼•æ“è¯†åˆ«
- [ ] é¡µé¢æƒé‡æ­£ç¡®ä¼ é€’
- [ ] è·¯ç”±ç»“æ„ç¬¦åˆSEOæœ€ä½³å®è·µ

### 3. å†…éƒ¨APIè·¯ç”±è®¾è®¡
```
apps/nextjs/src/app/api/
â”œâ”€â”€ coze/
â”‚   â”œâ”€â”€ upload/
â”‚   â”‚   â””â”€â”€ route.ts     # Cozeæ–‡ä»¶ä¸Šä¼ APIè·¯ç”±
â”‚   â””â”€â”€ workflow/
â”‚       â””â”€â”€ route.ts     # Cozeå·¥ä½œæµè°ƒç”¨APIè·¯ç”±
```

#### å†…éƒ¨Cozeæ–‡ä»¶ä¸Šä¼ API
- **è·¯ç”±è·¯å¾„**: `/api/coze/upload`
- **è¯·æ±‚æ–¹æ³•**: POST
- **è¯·æ±‚å‚æ•°**:
  ```typescript
  interface InternalCozeUploadRequest {
    image: File; // å‰ç«¯ä¼ é€’çš„å›¾ç‰‡æ–‡ä»¶
  }
  ```
- **å“åº”æ•°æ®**:
  ```typescript
  interface InternalCozeUploadResponse {
    success: boolean;     // ä¸Šä¼ æ˜¯å¦æˆåŠŸ
    fileId?: string;      // æ–‡ä»¶ID (æˆåŠŸæ—¶)
    errorMessage?: string;// é”™è¯¯ä¿¡æ¯ (å¤±è´¥æ—¶)
  }
  ```

#### å†…éƒ¨Cozeå·¥ä½œæµè°ƒç”¨API
- **è·¯ç”±è·¯å¾„**: `/api/coze/workflow`
- **è¯·æ±‚æ–¹æ³•**: POST
- **è¯·æ±‚å‚æ•°**:
  ```typescript
  interface InternalCozeWorkflowRequest {
    fileId: string;         // æ–‡ä»¶ID
    promptType: string;     // æç¤ºè¯ç±»å‹
  }
  ```
- **å“åº”æ•°æ®**:
  ```typescript
  interface InternalCozeWorkflowResponse {
    success: boolean;       // è°ƒç”¨æ˜¯å¦æˆåŠŸ
    prompt?: string;        // ç”Ÿæˆçš„æç¤ºè¯ (æˆåŠŸæ—¶)
    debugUrl?: string;      // è°ƒè¯•URL (æˆåŠŸæ—¶)
    errorMessage?: string;  // é”™è¯¯ä¿¡æ¯ (å¤±è´¥æ—¶)
  }
  ```

## é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

### 1. é¡µé¢è®¿é—®æƒé™é—®é¢˜ (v3.0.1)
**é—®é¢˜æè¿°**: Image to Prompté¡µé¢é»˜è®¤éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚

**è§£å†³æ–¹æ¡ˆ**: 
- ä¿®æ”¹ `apps/nextjs/src/utils/nextauth.ts` æ–‡ä»¶
- å°† `/image-to-prompt` è·¯å¾„æ·»åŠ åˆ°å…¬å…±è·¯ç”±åˆ—è¡¨ä¸­
- ä¿æŒä¸å…¶ä»–å…¬å…±é¡µé¢ï¼ˆå¦‚pricingã€docsï¼‰ä¸€è‡´çš„è®¿é—®æ–¹å¼

**å®‰å…¨è€ƒè™‘**:
- ä»…å¼€æ”¾äº†å·¥å…·ä½¿ç”¨é¡µé¢ï¼Œä¸æ¶‰åŠç”¨æˆ·æ•°æ®æˆ–æ•æ„ŸåŠŸèƒ½
- å®é™…çš„AIæœåŠ¡è°ƒç”¨å¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ é™æµæˆ–å…¶ä»–ä¿æŠ¤æªæ–½

### 2. å­—å…¸è®¿é—®è·¯å¾„é”™è¯¯ (v3.0.2)
**é—®é¢˜æè¿°**: é¡µé¢å­—å…¸è®¿é—®è·¯å¾„é”™è¯¯ï¼Œå¯¼è‡´é¡µé¢æ— æ³•æ­£å¸¸æ˜¾ç¤ºå†…å®¹ã€‚

**è§£å†³æ–¹æ¡ˆ**:
- ä¿®å¤ `apps/nextjs/src/app/[lang]/(tools)/image-to-prompt/page.tsx` ä¸­çš„å­—å…¸è®¿é—®è·¯å¾„
- å°† `dict.imageToPrompt.meta.title` ä¿®æ”¹ä¸º `dict.imageprompt.imageToPrompt.meta.title`

### 3. Iconsç»„ä»¶å¯¼å…¥æ–¹å¼é”™è¯¯ (v3.0.2)
**é—®é¢˜æè¿°**: Iconsç»„ä»¶å¯¼å…¥æ–¹å¼ä¸æ­£ç¡®ï¼Œå¯¼è‡´å›¾æ ‡æ— æ³•æ­£å¸¸æ˜¾ç¤ºã€‚

**è§£å†³æ–¹æ¡ˆ**:
- å°† `import { Icons } from "@saasfly/ui/icons"` ä¿®æ”¹ä¸º `import * as Icons from "@saasfly/ui/icons"`
- ä¿®å¤äº†å¤šä¸ªç›¸å…³ç»„ä»¶æ–‡ä»¶ä¸­çš„å¯¼å…¥æ–¹å¼

### 4. Coze APIåœ°å€ç¡®è®¤ (v3.0.4)
**é—®é¢˜æè¿°**: ç”¨æˆ·åé¦ˆCoze APIåŸŸåå¯èƒ½ä¸æ­£ç¡®ã€‚

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®è®¤Coze APIçš„æ­£ç¡®åŸŸåä¸º `api.coze.cn`
- æ£€æŸ¥ä»£ç ä¸­ä½¿ç”¨çš„APIåœ°å€å·²ç»æ˜¯æ­£ç¡®çš„ `https://api.coze.cn/v1/files/upload`
- æ— éœ€è¿›è¡Œä»£ç ä¿®æ”¹

### 5. å·¥ä½œæµè°ƒç”¨é›†æˆ (v3.0.5)
**é—®é¢˜æè¿°**: éœ€è¦é›†æˆCozeå·¥ä½œæµè°ƒç”¨åŠŸèƒ½ï¼Œæ ¹æ®ç”¨æˆ·é€‰æ‹©çš„æ¨¡å‹ç”Ÿæˆæç¤ºè¯ã€‚

**è§£å†³æ–¹æ¡ˆ**:
- åˆ›å»ºåç«¯APIè·¯ç”±å¤„ç†Cozeå·¥ä½œæµè°ƒç”¨
- åœ¨å‰ç«¯ç»„ä»¶ä¸­è°ƒç”¨æ–°çš„åç«¯API
- æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„æ¨¡å‹ä¼ é€’å¯¹åº”çš„promptTypeå‚æ•°
- å®‰å…¨åœ°ç®¡ç†Cozeè®¿é—®ä»¤ç‰Œï¼Œå­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­

## API è®¾è®¡

### ç¯å¢ƒå˜é‡éœ€æ±‚
```bash
# AIæœåŠ¡é…ç½®
NEXT_PUBLIC_AI_SERVICE_URL=
AI_SERVICE_API_KEY=

# æ–‡ä»¶å­˜å‚¨é…ç½®
NEXT_PUBLIC_UPLOAD_BUCKET=
UPLOAD_SERVICE_KEY=

# å›¾ç‰‡å¤„ç†é…ç½®
IMAGE_RESIZE_QUALITY=80
IMAGE_MAX_SIZE=5242880  # 5MB

# Cozeå¹³å°é…ç½®
COZE_API_TOKEN=your_coze_api_token
COZE_WORKFLOW_ID=7548376142701658148
```

### åç«¯æœåŠ¡éœ€æ±‚
1. **æ–‡ä»¶ä¸Šä¼ API**
   - æ–‡ä»¶å­˜å‚¨æœåŠ¡
   - å›¾ç‰‡æ ¼å¼è½¬æ¢
   - æ–‡ä»¶å®‰å…¨æ£€æŸ¥

2. **å›¾ç‰‡åˆ†æAPI**
   - AIå›¾ç‰‡è¯†åˆ«æœåŠ¡
   - å¤šæ¨¡å‹æ”¯æŒ
   - æç¤ºè¯ç”Ÿæˆ

## å®‰å…¨è®¾è®¡

### è®¿é—®æ§åˆ¶
- é¡µé¢è®¾ç½®ä¸ºå…¬å…±è®¿é—®ï¼Œæ— éœ€ç™»å½•å³å¯ä½¿ç”¨
- ä¿æŒä¸å…¶ä»–å…¬å…±é¡µé¢ï¼ˆå¦‚pricingã€docsï¼‰ä¸€è‡´çš„è®¿é—®æ–¹å¼

### æ•°æ®å®‰å…¨
- æ–‡ä»¶æ ¼å¼éªŒè¯
- æ–‡ä»¶å¤§å°é™åˆ¶
- å›¾ç‰‡å®‰å…¨æ£€æŸ¥
- APIä»¤ç‰Œå®‰å…¨å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­

### APIè·¯ç”±å®‰å…¨
- Cozeç›¸å…³APIè·¯ç”±ä¸è¿›è¡Œç™»å½•éªŒè¯
- è®¿é—®ä»¤ç‰Œå­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­ï¼Œä¸åœ¨å‰ç«¯æš´éœ²
- é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

## éƒ¨ç½²è€ƒè™‘

### CDNé…ç½®
- é™æ€èµ„æºç¼“å­˜
- å›¾ç‰‡ä¼˜åŒ–é…ç½®
- ä¸Šä¼ æ–‡ä»¶çš„ä¸´æ—¶å­˜å‚¨

## æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•
- æ–‡ä»¶ä¸Šä¼ ç»„ä»¶æµ‹è¯•
- å›¾ç‰‡é¢„è§ˆç»„ä»¶æµ‹è¯•
- æ¨¡å‹é€‰æ‹©ç»„ä»¶æµ‹è¯•
- è¡¨å•éªŒè¯æµ‹è¯•

### é›†æˆæµ‹è¯•
- ç«¯åˆ°ç«¯ä¸Šä¼ æµç¨‹æµ‹è¯•
- AIæœåŠ¡è°ƒç”¨æµ‹è¯•
- å¤šè¯­è¨€åˆ‡æ¢æµ‹è¯•
- å“åº”å¼å¸ƒå±€æµ‹è¯•

### æ€§èƒ½æµ‹è¯•
- æ–‡ä»¶ä¸Šä¼ æ€§èƒ½æµ‹è¯•
- å¤§å›¾ç‰‡å¤„ç†æµ‹è¯•
- å¹¶å‘è¯·æ±‚æµ‹è¯•
- å†…å­˜æ³„æ¼æµ‹è¯•

### v4.0 - Google OAuthé›†æˆå®ç°

#### ğŸ“ è¿­ä»£èƒŒæ™¯

åœ¨v3.0çš„åŸºç¡€ä¸Šï¼Œä¸ºImagePrompt.Heå¹³å°é›†æˆGoogle OAuth 2.0è®¤è¯åŠŸèƒ½ã€‚è¯¥åŠŸèƒ½å°†ä¸ç°æœ‰çš„GitHub OAuthå’Œé‚®ç®±è®¤è¯ç³»ç»Ÿå¹¶å­˜ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¤šç™»å½•é€‰æ‹©ï¼Œæå‡ç”¨æˆ·ä½“éªŒå’Œæ³¨å†Œè½¬åŒ–ç‡ã€‚

#### ğŸ¯ æŠ€æœ¯å®ç°ç›®æ ‡

##### æ ¸å¿ƒæŠ€æœ¯ç›®æ ‡
- åŸºäºNextAuth.jsæ¡†æ¶é›†æˆGoogle OAuth 2.0 Provider
- ä¿æŒä¸ç°æœ‰è®¤è¯ç³»ç»Ÿçš„å®Œå…¨å…¼å®¹æ€§
- å®ç°å¤šè¯­è¨€ç•Œé¢æ”¯æŒå’Œå“åº”å¼è®¾è®¡
- ç¡®ä¿OAuthæµç¨‹çš„å®‰å…¨æ€§å’Œç¨³å®šæ€§

##### æ¶æ„è®¾è®¡ç›®æ ‡
- æœ€å°åŒ–ä»£ç ä¿®æ”¹ï¼Œå¤ç”¨ç°æœ‰ç»„ä»¶å’Œæ¶æ„
- ä¿æŒæ•°æ®åº“ç»“æ„çš„ç¨³å®šæ€§
- å®ç°æ¡ä»¶åŠ è½½æœºåˆ¶ï¼Œåªåœ¨é…ç½®æœ‰æ•ˆæ—¶å¯ç”¨Googleç™»å½•
- ç»´æŠ¤ç°æœ‰çš„å›½é™…åŒ–æ”¯æŒä½“ç³»

#### ğŸ”§ æŠ€æœ¯æ¶æ„è®¾è®¡

##### æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯åº”ç”¨       â”‚    â”‚   NextAuth.js   â”‚    â”‚   Google OAuth  â”‚
â”‚  (Next.js 14)    â”‚â—„â”€â”€â–ºâ”‚   è®¤è¯ä¸­é—´ä»¶     â”‚â—„â”€â”€â–ºâ”‚     API        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   PostgreSQL    â”‚
                       â”‚    æ•°æ®åº“       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

##### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: Next.js 14 (App Router)
- **è®¤è¯**: NextAuth.js v4
- **OAuth**: Google OAuth 2.0
- **æ•°æ®åº“**: PostgreSQL + Kysely
- **ç±»å‹å®‰å…¨**: TypeScript
- **UIç»„ä»¶**: @saasfly/ui
- **å›½é™…åŒ–**: è‡ªå®šä¹‰i18nè§£å†³æ–¹æ¡ˆ

#### ğŸ”§ æ ¸å¿ƒå®ç°

##### 1. ç¯å¢ƒé…ç½®å®ç°

###### ç¯å¢ƒå˜é‡é…ç½® (apps/nextjs/src/env.mjs)
```typescript
export const env = createEnv({
  server: {
    // ç°æœ‰é…ç½®...
    GOOGLE_CLIENT_ID: z.string().min(1),
    GOOGLE_CLIENT_SECRET: z.string().min(1),
  },
  runtimeEnv: {
    // ç°æœ‰é…ç½®...
    GOOGLE_CLIENT_ID: process.env.GOOGLE_CLIENT_ID,
    GOOGLE_CLIENT_SECRET: process.env.GOOGLE_CLIENT_SECRET,
  },
});
```

###### ç¯å¢ƒå˜é‡æ¨¡æ¿ (.env.example)
```bash
# Google OAuthé…ç½®
GOOGLE_CLIENT_ID='your_google_client_id'
GOOGLE_CLIENT_SECRET='your_google_client_secret'
```

##### 2. NextAuthé…ç½®å®ç°

###### è®¤è¯é…ç½®æ–‡ä»¶æ›´æ–° (packages/auth/nextauth.ts)
```typescript
import { getServerSession, NextAuthOptions, User } from "next-auth";
import { KyselyAdapter } from "@auth/kysely-adapter";
import GitHubProvider from "next-auth/providers/github";
import GoogleProvider from "next-auth/providers/google";
import EmailProvider from "next-auth/providers/email";

export const authOptions: NextAuthOptions = {
  session: {
    strategy: "jwt",
  },
  pages: {
    signIn: "/login",
  },
  adapter: KyselyAdapter(db) as any,

  providers: [
    // GitHub Provider (ç°æœ‰)
    ...(env.GITHUB_CLIENT_ID && env.GITHUB_CLIENT_SECRET
      ? [
          GitHubProvider({
            clientId: getEnv("GITHUB_CLIENT_ID", env.GITHUB_CLIENT_ID),
            clientSecret: getEnv("GITHUB_CLIENT_SECRET", env.GITHUB_CLIENT_SECRET),
            httpOptions: { timeout: 15000 },
          }),
        ]
      : []),

    // Google Provider (æ–°å¢)
    ...(env.GOOGLE_CLIENT_ID && env.GOOGLE_CLIENT_SECRET
      ? [
          GoogleProvider({
            clientId: getEnv("GOOGLE_CLIENT_ID", env.GOOGLE_CLIENT_ID),
            clientSecret: getEnv("GOOGLE_CLIENT_SECRET", env.GOOGLE_CLIENT_SECRET),
            httpOptions: { timeout: 15000 },
          }),
        ]
      : []),

    // Email Provider (ç°æœ‰)
    ...(env.RESEND_FROM && env.RESEND_API_KEY
      ? [
          EmailProvider({
            // ç°æœ‰é‚®ä»¶é…ç½®...
          }),
        ]
      : []),
  ],

  // ä¿æŒç°æœ‰çš„callbacksé…ç½®
  callbacks: {
    session({ token, session }) {
      if (token && session.user) {
        session.user.id = token.id;
        session.user.name = token.name ?? undefined;
        session.user.email = token.email ?? undefined;
        session.user.image = token.picture ?? undefined;
        session.user.isAdmin = token.isAdmin || false;
      }
      return session;
    },
    async jwt({ token, user }) {
      const email = token?.email ?? "";
      const dbUser = email
        ? await db
            .selectFrom("User")
            .where("email", "=", email)
            .selectAll()
            .executeTakeFirst()
        : null;

      if (!dbUser) {
        if (user) {
          token.id = user.id as UserId;
          token.isAdmin = false;
        }
        return token;
      }

      let isAdmin = false;
      if (env.ADMIN_EMAIL) {
        const adminEmails = getEnv("ADMIN_EMAIL", env.ADMIN_EMAIL).split(",");
        if (email) {
          isAdmin = adminEmails.includes(email);
        }
      }

      return {
        id: dbUser.id,
        name: dbUser.name,
        email: dbUser.email,
        picture: dbUser.image,
        isAdmin: isAdmin,
      };
    },
  },
};
```

##### 3. å‰ç«¯UIç»„ä»¶å®ç°

###### ç”¨æˆ·è®¤è¯è¡¨å•æ›´æ–° (apps/nextjs/src/components/user-auth-form.tsx)
```typescript
"use client";

import * as React from "react";
import { useSearchParams } from "next/navigation";
import { signIn } from "next-auth/react";
import { useForm } from "react-hook-form";
import * as z from "zod";

import { cn } from "@saasfly/ui";
import { buttonVariants } from "@saasfly/ui/button";
import * as Icons from "@saasfly/ui/icons";

export function UserAuthForm({
  className,
  lang,
  dict,
  disabled,
  ...props
}: UserAuthFormProps) {
  const [isLoading, setIsLoading] = React.useState<boolean>(false);
  const [isGitHubLoading, setIsGitHubLoading] = React.useState<boolean>(false);
  const [isGoogleLoading, setIsGoogleLoading] = React.useState<boolean>(false);
  const searchParams = useSearchParams();

  async function onSubmit(data: FormData) {
    // ç°æœ‰çš„é‚®ç®±ç™»å½•é€»è¾‘...
  }

  return (
    <div className={cn("grid gap-6", className)} {...props}>
      {/* é‚®ç®±ç™»å½•è¡¨å• (ç°æœ‰) */}
      <form onSubmit={handleSubmit(onSubmit)}>
        {/* é‚®ç®±ç™»å½•é€»è¾‘ */}
      </form>

      <div className="relative">
        <div className="absolute inset-0 flex items-center">
          <span className="w-full border-t" />
        </div>
        <div className="relative flex justify-center text-xs uppercase">
          <span className="bg-background px-2 text-muted-foreground">
            {dict.signin_others}
          </span>
        </div>
      </div>

      {/* GitHubç™»å½•æŒ‰é’® (ç°æœ‰) */}
      <button
        type="button"
        className={cn(buttonVariants({ variant: "outline" }))}
        onClick={() => {
          setIsGitHubLoading(true);
          signIn("github").catch((error) => {
            console.error("GitHub signIn error:", error);
          });
        }}
        disabled={isLoading || isGitHubLoading || isGoogleLoading}
      >
        {isGitHubLoading ? (
          <Icons.Spinner className="mr-2 h-4 w-4 animate-spin" />
        ) : (
          <Icons.GitHub className="mr-2 h-4 w-4" />
        )}{" "}
        {dict.signin_github}
      </button>

      {/* Googleç™»å½•æŒ‰é’® (æ–°å¢) */}
      <button
        type="button"
        className={cn(buttonVariants({ variant: "outline" }))}
        onClick={() => {
          setIsGoogleLoading(true);
          signIn("google").catch((error) => {
            console.error("Google signIn error:", error);
          });
        }}
        disabled={isLoading || isGitHubLoading || isGoogleLoading}
      >
        {isGoogleLoading ? (
          <Icons.Spinner className="mr-2 h-4 w-4 animate-spin" />
        ) : (
          <Icons.Google className="mr-2 h-4 w-4" />
        )}{" "}
        {dict.signin_google}
      </button>
    </div>
  );
}
```

##### 4. å›½é™…åŒ–é…ç½®å®ç°

###### å¤šè¯­è¨€æ–‡ä»¶æ›´æ–°
```json
// apps/nextjs/src/config/dictionaries/en.json
{
  "login": {
    "signin_email": "Log in with Email",
    "signin_google": "Sign in with Google",
    "signin_github": "Sign in with Github",
    "signin_others": "Or continue with"
  }
}

// apps/nextjs/src/config/dictionaries/zh.json
{
  "login": {
    "signin_email": "ç”¨ç”µå­é‚®ä»¶ç™»å½•",
    "signin_google": "ä½¿ç”¨ Google ç™»å½•",
    "signin_github": "ä½¿ç”¨ Github ç™»å½•",
    "signin_others": "æˆ–è€…ç»§ç»­ä½¿ç”¨"
  }
}

// apps/nextjs/src/config/dictionaries/ja.json
{
  "login": {
    "signin_email": "ãƒ¡ãƒ¼ãƒ«ã§ãƒ­ã‚°ã‚¤ãƒ³",
    "signin_google": "Googleã§ãƒ­ã‚°ã‚¤ãƒ³",
    "signin_github": "Githubã§ãƒ­ã‚°ã‚¤ãƒ³",
    "signin_others": "ã¾ãŸã¯ç¶šã‘ã‚‹"
  }
}

// apps/nextjs/src/config/dictionaries/ko.json
{
  "login": {
    "signin_email": "ì´ë©”ì¼ë¡œ ë¡œê·¸ì¸",
    "signin_google": "Googleë¡œ ë¡œê·¸ì¸",
    "signin_github": "Githubë¡œ ë¡œê·¸ã‚¤ãƒ³",
    "signin_others": "ë˜ëŠ” ë‹¤ìŒìœ¼ë¡œ ê³„ì†"
  }
}
```

#### ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

##### ç°æœ‰è¡¨ç»“æ„ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰
```sql
-- Userè¡¨ - æ”¯æŒOAuthç”¨æˆ·
CREATE TABLE "User" (
    "id" TEXT PRIMARY KEY,
    "name" TEXT,
    "email" TEXT NOT NULL UNIQUE,
    "emailVerified" TIMESTAMP,
    "image" TEXT,
    "createdAt" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

-- Accountè¡¨ - å­˜å‚¨OAuthå‡­æ®
CREATE TABLE "Account" (
    "id" TEXT PRIMARY KEY,
    "userId" TEXT NOT NULL REFERENCES "User"("id") ON DELETE CASCADE,
    "type" TEXT NOT NULL,
    "provider" TEXT NOT NULL,
    "providerAccountId" TEXT NOT NULL,
    "refresh_token" TEXT,
    "access_token" TEXT,
    "expires_at" INTEGER,
    "token_type" TEXT,
    "scope" TEXT,
    "id_token" TEXT,
    "session_state" TEXT,
    "createdAt" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

-- Sessionè¡¨ - ç®¡ç†ä¼šè¯ä¿¡æ¯
CREATE TABLE "Session" (
    "id" TEXT PRIMARY KEY,
    "sessionToken" TEXT NOT NULL UNIQUE,
    "userId" TEXT NOT NULL REFERENCES "User"("id") ON DELETE CASCADE,
    "expires" TIMESTAMP NOT NULL,
    "createdAt" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

##### æ•°æ®æ˜ å°„é€»è¾‘
- Google OAuthç”¨æˆ·æ•°æ®è‡ªåŠ¨æ˜ å°„åˆ°Userè¡¨
- Accountè¡¨å­˜å‚¨Google OAuthå‡­æ®ï¼ˆprovider = "google"ï¼‰
- Sessionè¡¨ç®¡ç†ç”¨æˆ·ä¼šè¯ä¿¡æ¯
- åŒä¸€é‚®ç®±çš„ä¸åŒProviderè´¦æˆ·è‡ªåŠ¨å…³è”

#### ğŸ”’ å®‰å…¨å®ç°

##### OAuthå®‰å…¨é…ç½®
```typescript
GoogleProvider({
  clientId: getEnv("GOOGLE_CLIENT_ID", env.GOOGLE_CLIENT_ID),
  clientSecret: getEnv("GOOGLE_CLIENT_SECRET", env.GOOGLE_CLIENT_SECRET),
  httpOptions: { timeout: 15000 },
  // å¯é€‰ï¼šæ·»åŠ é¢å¤–çš„å®‰å…¨é…ç½®
  authorization: {
    params: {
      prompt: "consent",
      access_type: "offline",
      response_type: "code",
    },
  },
}),
```

##### ä¼šè¯ç®¡ç†å®‰å…¨
- ä½¿ç”¨JWT sessionç­–ç•¥
- å®‰å…¨çš„tokenç”Ÿæˆå’ŒéªŒè¯æœºåˆ¶
- é€‚å½“çš„è¿‡æœŸæ—¶é—´è®¾ç½®
- æœåŠ¡ç«¯sessionéªŒè¯

##### æ•°æ®éªŒè¯å’Œå®‰å…¨
- ç¯å¢ƒå˜é‡éªŒè¯ä½¿ç”¨Zod schema
- è¾“å…¥æ•°æ®éªŒè¯å’Œæ¸…ç†
- é˜²æ­¢OAuthæ³¨å…¥æ”»å‡»
- CSRFä¿æŠ¤
- HTTPSä¼ è¾“åŠ å¯†

#### ğŸŒ å›½é™…åŒ–å®ç°

##### å¤šè¯­è¨€æ”¯æŒæ¶æ„
```
apps/nextjs/src/config/dictionaries/
â”œâ”€â”€ en.json    # è‹±æ–‡
â”œâ”€â”€ zh.json    # ä¸­æ–‡ç®€ä½“
â”œâ”€â”€ ja.json    # æ—¥æ–‡
â””â”€â”€ ko.json    # éŸ©æ–‡
```

##### è¯­è¨€åˆ‡æ¢æœºåˆ¶
- åŸºäºURLè·¯å¾„çš„è¯­è¨€è¯†åˆ« (`/[lang]/`)
- è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€åå¥½
- ç”¨æˆ·è¯­è¨€åå¥½å­˜å‚¨
- å›é€€åˆ°é»˜è®¤è¯­è¨€æœºåˆ¶

##### å­—å…¸æ–‡ä»¶ç»“æ„
```typescript
interface LoginDictionary {
  signin_email: string;
  signin_google: string;
  signin_github: string;
  signin_others: string;
}

interface Dictionary {
  login: LoginDictionary;
  // å…¶ä»–å­—å…¸å†…å®¹...
}
```

#### ğŸš¨ é”™è¯¯å¤„ç†å®ç°

##### å‰ç«¯é”™è¯¯å¤„ç†
```typescript
const handleGoogleSignIn = async () => {
  setIsGoogleLoading(true);
  try {
    const result = await signIn("google", {
      callbackUrl: searchParams?.get("from") ?? `/${lang}/dashboard`,
      redirect: false
    });

    if (!result?.ok) {
      throw new Error("Googleç™»å½•å¤±è´¥");
    }
  } catch (error) {
    console.error("Google signIn error:", error);
    toast({
      title: "ç™»å½•å¤±è´¥",
      description: "Googleç™»å½•å‡ºç°é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•ã€‚",
      variant: "destructive",
    });
  } finally {
    setIsGoogleLoading(false);
  }
};
```

##### åç«¯é”™è¯¯å¤„ç†
```typescript
// åœ¨NextAuthé…ç½®ä¸­æ·»åŠ é”™è¯¯å¤„ç†
callbacks: {
  async signIn({ user, account, profile, email, credentials }) {
    try {
      // éªŒè¯ç”¨æˆ·ä¿¡æ¯
      if (!profile?.email) {
        throw new Error("æ— æ³•è·å–ç”¨æˆ·é‚®ç®±");
      }

      // æ£€æŸ¥é‚®ç®±åŸŸåé™åˆ¶ï¼ˆå¦‚æœéœ€è¦ï¼‰
      // if (!profile.email.endsWith('@allowed-domain.com')) {
      //   throw new Error("é‚®ç®±åŸŸåä¸è¢«å…è®¸");
      // }

      return true;
    } catch (error) {
      console.error("Sign in error:", error);
      return false;
    }
  },
},
```

#### ğŸ“Š æ€§èƒ½ä¼˜åŒ–å®ç°

##### å‰ç«¯ä¼˜åŒ–
- æŒ‰éœ€åŠ è½½OAuthç»„ä»¶
- ä½¿ç”¨React.memoä¼˜åŒ–æ¸²æŸ“æ€§èƒ½
- é˜²æŠ–å¤„ç†ç”¨æˆ·äº¤äº’
- å›¾ç‰‡æ‡’åŠ è½½å’Œç¼“å­˜
- é¢„åŠ è½½ç›®æ ‡é¡µé¢

##### åç«¯ä¼˜åŒ–
- æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- ä¼šè¯ç¼“å­˜ç­–ç•¥
- å¼‚æ­¥å¤„ç†éå…³é”®è·¯å¾„
- è¿æ¥æ± ç®¡ç†
- é”™è¯¯é‡è¯•æœºåˆ¶

##### ç½‘ç»œä¼˜åŒ–
- CDNåŠ é€Ÿé™æ€èµ„æº
- HTTP/2å¤šè·¯å¤ç”¨
- èµ„æºå‹ç¼©å’Œåˆå¹¶
- ç¼“å­˜ç­–ç•¥ä¼˜åŒ–
- é¢„è¿æ¥Google OAuthç«¯ç‚¹

#### ğŸ§ª æµ‹è¯•å®ç°

##### å•å…ƒæµ‹è¯•
```typescript
// æµ‹è¯•Google Provideré…ç½®
describe('Google OAuth Configuration', () => {
  it('should configure GoogleProvider with correct credentials', () => {
    const googleProvider = GoogleProvider({
      clientId: 'test-client-id',
      clientSecret: 'test-client-secret',
    });

    expect(googleProvider).toBeDefined();
    expect(googleProvider.id).toBe('google');
  });
});

// æµ‹è¯•ç™»å½•ç»„ä»¶
describe('UserAuthForm', () => {
  it('should render Google login button', () => {
    const { getByText } = render(<UserAuthForm />);
    expect(getByText('Sign in with Google')).toBeInTheDocument();
  });
});
```

##### é›†æˆæµ‹è¯•
- å®Œæ•´çš„OAuthæµç¨‹æµ‹è¯•
- ç”¨æˆ·æ³¨å†Œå’Œç™»å½•æµç¨‹æµ‹è¯•
- å¤šè¯­è¨€åˆ‡æ¢æµ‹è¯•
- å“åº”å¼è®¾è®¡æµ‹è¯•
- é”™è¯¯å¤„ç†æœºåˆ¶æµ‹è¯•

##### E2Eæµ‹è¯•
```typescript
// Playwright E2Eæµ‹è¯•
test('Google login flow', async ({ page }) => {
  await page.goto('/login');
  await page.click('button:has-text("Sign in with Google")');

  // æ¨¡æ‹ŸGoogle OAuthå›è°ƒï¼ˆåœ¨æµ‹è¯•ç¯å¢ƒä¸­ï¼‰
  await page.waitForURL('/dashboard');
  expect(page.url()).toContain('/dashboard');
});
```

#### ğŸ“ˆ ç›‘æ§å’Œæ—¥å¿—å®ç°

##### æ€§èƒ½ç›‘æ§
```typescript
// ç™»å½•æ€§èƒ½ç›‘æ§
const signInWithMonitoring = async (provider: string) => {
  const startTime = Date.now();
  try {
    const result = await signIn(provider);
    const duration = Date.now() - startTime;

    // ä¸ŠæŠ¥æ€§èƒ½æŒ‡æ ‡
    if (window.performance) {
      window.performance.mark(`${provider}_signin_end`);
      window.performance.measure(`${provider}_signin`, `${provider}_signin_start`, `${provider}_signin_end`);
    }

    return result;
  } catch (error) {
    // é”™è¯¯ç›‘æ§
    console.error(`${provider} sign in error:`, error);
    throw error;
  }
};
```

##### é”™è¯¯ç›‘æ§
- Sentryé”™è¯¯è·Ÿè¸ª
- æ§åˆ¶å°é”™è¯¯æ—¥å¿—
- ç”¨æˆ·åé¦ˆæ”¶é›†
- ç³»ç»Ÿå¥åº·æ£€æŸ¥

##### ä¸šåŠ¡ç›‘æ§
- ç™»å½•æˆåŠŸç‡ç»Ÿè®¡
- ç”¨æˆ·æ³¨å†Œè½¬åŒ–ç‡
- å„ç™»å½•æ–¹å¼ä½¿ç”¨æ¯”ä¾‹
- ç”¨æˆ·è¡Œä¸ºåˆ†æ

#### ğŸš€ éƒ¨ç½²é…ç½®

##### ç¯å¢ƒå˜é‡è®¾ç½®
```bash
# ç”Ÿäº§ç¯å¢ƒé…ç½®
NEXTAUTH_URL=https://your-domain.com
NEXTAUTH_SECRET=your-secret-key
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
```

##### Google Cloud Consoleé…ç½®
1. åˆ›å»ºæ–°é¡¹ç›®æˆ–é€‰æ‹©ç°æœ‰é¡¹ç›®
2. å¯ç”¨Google+ API
3. é…ç½®OAuth 2.0å‡­æ®
4. è®¾ç½®é‡å®šå‘URI: `https://your-domain.com/api/auth/callback/google`
5. é…ç½®åŒæ„å±å¹•

##### Verceléƒ¨ç½²é…ç½®
```json
// vercel.json
{
  "build": {
    "env": {
      "NEXTAUTH_URL": "https://your-domain.com",
      "GOOGLE_CLIENT_ID": "@google_client_id",
      "GOOGLE_CLIENT_SECRET": "@google_client_secret"
    }
  }
}
```

#### ğŸ”§ è¿ç»´å’Œç»´æŠ¤

##### æ—¥å¸¸ç»´æŠ¤
- å®šæœŸæ›´æ–°ä¾èµ–åŒ…ç‰ˆæœ¬
- ç›‘æ§APIä½¿ç”¨é…é¢
- å¤‡ä»½å…³é”®é…ç½®æ–‡ä»¶
- æ€§èƒ½æŒ‡æ ‡ç›‘æ§
- å®‰å…¨æ¼æ´æ‰«æ

##### æ•…éšœå¤„ç†
- OAuthæœåŠ¡ä¸å¯ç”¨çš„é™çº§æ–¹æ¡ˆ
- ç”¨æˆ·ä¼šè¯å¼‚å¸¸çš„å¤„ç†æœºåˆ¶
- æ•°æ®åº“è¿æ¥å¤±è´¥çš„æ¢å¤ç­–ç•¥
- ç½‘ç»œå¼‚å¸¸çš„é‡è¯•æœºåˆ¶

##### ç‰ˆæœ¬ç®¡ç†
- è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶
- å˜æ›´æ—¥å¿—ç»´æŠ¤
- å‘åå…¼å®¹æ€§ä¿è¯
- æ¸è¿›å¼åŠŸèƒ½å‘å¸ƒ

#### ğŸ¯ æˆåŠŸéªŒæ”¶æ ‡å‡†

##### åŠŸèƒ½éªŒæ”¶
- [ ] Googleç™»å½•æŒ‰é’®åœ¨ç™»å½•é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] ç‚¹å‡»GoogleæŒ‰é’®èƒ½æ­£å¸¸è·³è½¬åˆ°OAuthæˆæƒé¡µé¢
- [ ] ç”¨æˆ·æˆæƒåèƒ½æ­£ç¡®åˆ›å»ºè´¦æˆ·æˆ–ç™»å½•ç°æœ‰è´¦æˆ·
- [ ] ç”¨æˆ·å¤´åƒå’ŒåŸºæœ¬ä¿¡æ¯èƒ½æ­£ç¡®åŒæ­¥
- [ ] ä¸ç°æœ‰ç™»å½•æ–¹å¼èƒ½æ­£å¸¸åˆ‡æ¢ä½¿ç”¨
- [ ] å¤šè¯­è¨€ç•Œé¢æ˜¾ç¤ºæ­£ç¡®

##### æ€§èƒ½éªŒæ”¶
- [ ] Googleç™»å½•æˆåŠŸç‡ > 99%
- [ ] ç™»å½•æµç¨‹å“åº”æ—¶é—´ < 3ç§’
- [ ] ç³»ç»Ÿåœ¨å¹¶å‘ç™»å½•æƒ…å†µä¸‹ç¨³å®šè¿è¡Œ
- [ ] é”™è¯¯æ¢å¤æœºåˆ¶å·¥ä½œæ­£å¸¸
- [ ] é¡µé¢åŠ è½½æ€§èƒ½è¾¾æ ‡

##### å®‰å…¨éªŒæ”¶
- [ ] OAuthæµç¨‹ç¬¦åˆOAuth 2.0å®‰å…¨æ ‡å‡†
- [ ] ç”¨æˆ·æ•°æ®å¾—åˆ°é€‚å½“ä¿æŠ¤
- [ ] æ²¡æœ‰å‘ç°å®‰å…¨æ¼æ´æˆ–é£é™©
- [ ] ç¬¦åˆæ•°æ®éšç§ä¿æŠ¤è¦æ±‚
- [ ] ç¯å¢ƒå˜é‡å’Œæ•æ„Ÿä¿¡æ¯å®‰å…¨

##### å…¼å®¹æ€§éªŒæ”¶
- [ ] æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨
- [ ] ç§»åŠ¨ç«¯è®¾å¤‡é€‚é…è‰¯å¥½
- [ ] å¤šè¯­è¨€ç¯å¢ƒæ­£å¸¸å·¥ä½œ
- [ ] ä¸åŒå±å¹•åˆ†è¾¨ç‡é€‚é…æ­£å¸¸
- [ ] ä¸ç°æœ‰ç³»ç»Ÿå®Œå…¨å…¼å®¹

### v5.0 - ç™¾åº¦ç»Ÿè®¡é›†æˆå®ç°

#### ğŸ“ è¿­ä»£èƒŒæ™¯

ä¸ºäº†æå‡ç½‘ç«™çš„æµé‡åˆ†æå’Œç”¨æˆ·è¡Œä¸ºè¿½è¸ªèƒ½åŠ›ï¼Œä¸ºImagePrompt.Heå¹³å°é›†æˆç™¾åº¦ç»Ÿè®¡åŠŸèƒ½ã€‚ç™¾åº¦ç»Ÿè®¡æ˜¯ä¸­å›½é¢†å…ˆçš„ç½‘ç«™åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿæä¾›è¯¦ç»†çš„è®¿é—®æ•°æ®ã€ç”¨æˆ·è¡Œä¸ºåˆ†æå’Œè½¬åŒ–è¿½è¸ªï¼Œå¸®åŠ©ä¼˜åŒ–äº§å“åŠŸèƒ½å’Œè¥é”€ç­–ç•¥ã€‚

#### ğŸ¯ æŠ€æœ¯å®ç°ç›®æ ‡

##### æ ¸å¿ƒæŠ€æœ¯ç›®æ ‡
- åŸºäºNext.jsæœ€ä½³å®è·µé›†æˆç™¾åº¦ç»Ÿè®¡
- å®ç°SPAï¼ˆå•é¡µåº”ç”¨ï¼‰çš„è·¯ç”±å˜åŒ–è¿½è¸ª
- ä½¿ç”¨ç¯å¢ƒå˜é‡å®‰å…¨ç®¡ç†ç»Ÿè®¡ID
- ç¡®ä¿ä¸ç°æœ‰ç³»ç»Ÿçš„å®Œå…¨å…¼å®¹æ€§

##### æ¶æ„è®¾è®¡ç›®æ ‡
- æœ€å°åŒ–æ€§èƒ½å½±å“ï¼Œå¼‚æ­¥åŠ è½½ç»Ÿè®¡è„šæœ¬
- æ”¯æŒæ‰€æœ‰è¯­è¨€ç‰ˆæœ¬çš„é¡µé¢è¿½è¸ª
- å®ç°è‡ªåŠ¨é¡µé¢åˆ‡æ¢è¿½è¸ª
- ç»´æŠ¤ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§

#### ğŸ”§ æŠ€æœ¯æ¶æ„è®¾è®¡

##### æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯åº”ç”¨       â”‚    â”‚   ç™¾åº¦ç»Ÿè®¡ç»„ä»¶    â”‚    â”‚   ç™¾åº¦ç»Ÿè®¡æœåŠ¡   â”‚
â”‚  (Next.js 14)    â”‚â—„â”€â”€â–ºâ”‚  (Reactç»„ä»¶)    â”‚â—„â”€â”€â–ºâ”‚   (API/JS)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   ç¯å¢ƒå˜é‡é…ç½®   â”‚
                       â”‚  (.envç³»ç»Ÿ)     â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

##### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: Next.js 14 (App Router)
- **ç»„ä»¶**: React Function Component
- **è„šæœ¬åŠ è½½**: Next.js Scriptç»„ä»¶
- **çŠ¶æ€ç®¡ç†**: React Hooks (useState, useEffect)
- **ç±»å‹å®‰å…¨**: TypeScript
- **é…ç½®ç®¡ç†**: Zodç¯å¢ƒå˜é‡éªŒè¯

#### ğŸ”§ æ ¸å¿ƒå®ç°

##### 1. ç™¾åº¦ç»Ÿè®¡ç»„ä»¶å®ç°

###### æ ¸å¿ƒç»„ä»¶æ–‡ä»¶ (apps/nextjs/src/components/analytics/baidu-analytics.tsx)
```typescript
'use client'

import Script from 'next/script'
import { usePathname, useSearchParams } from 'next/navigation'
import { useEffect } from 'react'

interface BaiduAnalyticsProps {
  baiduAnalyticsId: string
}

export function BaiduAnalytics({ baiduAnalyticsId }: BaiduAnalyticsProps) {
  const pathname = usePathname()
  const searchParams = useSearchParams()

  // SPAè·¯ç”±å˜åŒ–è¿½è¸ª
  useEffect(() => {
    if (typeof window !== 'undefined' && window._hmt) {
      // ç™¾åº¦ç»Ÿè®¡ SPA é¡µé¢ PV ç»Ÿè®¡
      window._hmt.push(['_trackPageview', pathname + (searchParams?.toString() || '')])
    }
  }, [pathname, searchParams])

  if (!baiduAnalyticsId) {
    return null
  }

  return (
    <>
      {/* ç™¾åº¦ç»Ÿè®¡è„šæœ¬ */}
      <Script strategy="afterInteractive">
        {`
          var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?${baiduAnalyticsId}";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
          })();
        `}
      </Script>
    </>
  )
}

// æ·»åŠ å…¨å±€ç±»å‹å£°æ˜
declare global {
  interface Window {
    _hmt: any[]
  }
}
```

##### 2. ç¯å¢ƒå˜é‡é…ç½®å®ç°

###### ç¯å¢ƒå˜é‡éªŒè¯ (apps/nextjs/src/env.mjs)
```typescript
export const env = createEnv({
  client: {
    // ç°æœ‰å®¢æˆ·ç«¯é…ç½®...
    NEXT_PUBLIC_BAIDU_ANALYTICS_ID: z.string().optional(),
  },
  server: {
    // ç°æœ‰æœåŠ¡ç«¯é…ç½®...
  },
  runtimeEnv: {
    // ç°æœ‰é…ç½®...
    NEXT_PUBLIC_BAIDU_ANALYTICS_ID: process.env.NEXT_PUBLIC_BAIDU_ANALYTICS_ID,
  },
});
```

###### ç¯å¢ƒå˜é‡æ¨¡æ¿ (.env.example)
```bash
# ç™¾åº¦ç»Ÿè®¡é…ç½®
NEXT_PUBLIC_BAIDU_ANALYTICS_ID="your_baidu_analytics_id"
```

###### æœ¬åœ°å¼€å‘é…ç½® (.env.local)
```bash
# ç™¾åº¦ç»Ÿè®¡é…ç½®
NEXT_PUBLIC_BAIDU_ANALYTICS_ID="ceab49c79d11fae26b8b25aec61d7c02"
```

##### 3. æ ¹å¸ƒå±€é›†æˆå®ç°

###### åº”ç”¨æ ¹å¸ƒå±€æ›´æ–° (apps/nextjs/src/app/layout.tsx)
```typescript
import { BaiduAnalytics } from "~/components/analytics/baidu-analytics"

export default function RootLayout({
  children,
  params: { lang },
}: RootLayoutProps) {
  return (
    <html lang={lang} suppressHydrationWarning>
      <head />
      <body className={cn("min-h-screen bg-background font-sans antialiased")}>
        {/* ç°æœ‰ç»„ä»¶ */}
        <Providers>{children}</Providers>

        {/* ç™¾åº¦ç»Ÿè®¡ç»„ä»¶ */}
        <BaiduAnalytics baiduAnalyticsId={env.NEXT_PUBLIC_BAIDU_ANALYTICS_ID || ''} />

        {/* ç°æœ‰å…¶ä»–è„šæœ¬ */}
        <Toaster />
      </body>
    </html>
  )
}
```

#### ğŸ“Š æŠ€æœ¯å®ç°ç‰¹ç‚¹

##### 1. SPAè·¯ç”±è¿½è¸ª
- ä½¿ç”¨ `usePathname` å’Œ `useSearchParams` ç›‘å¬è·¯ç”±å˜åŒ–
- è‡ªåŠ¨å‘é€é¡µé¢è®¿é—®ç»Ÿè®¡åˆ°ç™¾åº¦ç»Ÿè®¡
- æ”¯æŒæŸ¥è¯¢å‚æ•°è¿½è¸ª
- å…¼Next.js App Routerçš„å®¢æˆ·ç«¯å¯¼èˆª

##### 2. æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ `strategy="afterInteractive"` å¼‚æ­¥åŠ è½½è„šæœ¬
- ä¸é˜»å¡é¡µé¢ä¸»è¦å†…å®¹æ¸²æŸ“
- æŒ‰éœ€åŠ è½½ï¼Œä»…åœ¨é…ç½®ç»Ÿè®¡IDæ—¶ç”Ÿæ•ˆ
- æœ€å°åŒ–åŒ…å¤§å°å½±å“

##### 3. ç±»å‹å®‰å…¨
- å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
- ç¯å¢ƒå˜é‡ZodéªŒè¯
- å…¨å±€Windowç±»å‹æ‰©å±•
- ç»„ä»¶Propsç±»å‹æ£€æŸ¥

##### 4. é”™è¯¯å¤„ç†
- ç¯å¢ƒå˜é‡æœªé…ç½®æ—¶ä¼˜é›…é™çº§
- ç»Ÿè®¡è„šæœ¬åŠ è½½å¤±è´¥ä¸å½±å“ä¸»åŠŸèƒ½
- é˜²æ­¢æœåŠ¡ç«¯æ¸²æŸ“æ—¶è®¿é—®windowå¯¹è±¡
- å¯é€‰çš„ç»Ÿè®¡IDé…ç½®

#### ğŸŒ å›½é™…åŒ–æ”¯æŒ

##### å¤šè¯­è¨€é¡µé¢è¿½è¸ª
- è‡ªåŠ¨è¿½è¸ªæ‰€æœ‰è¯­è¨€ç‰ˆæœ¬é¡µé¢è®¿é—®
- æ”¯æŒè·¯å¾„æ ¼å¼ï¼š`/[lang]/page-name`
- ç»Ÿä¸€çš„æ•°æ®æ”¶é›†å’Œåˆ†æ
- è¯­è¨€ç»´åº¦çš„è®¿é—®ç»Ÿè®¡

#### ğŸ”’ å®‰å…¨å®ç°

##### æ•°æ®å®‰å…¨
- ç»Ÿè®¡IDé€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†
- ä¸åœ¨å‰ç«¯ä»£ç ä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯
- ä»…æ”¶é›†å…¬å¼€çš„è®¿é—®æ•°æ®
- ç¬¦åˆç™¾åº¦ç»Ÿè®¡çš„æ•°æ®å®‰å…¨è§„èŒƒ

##### éšç§ä¿æŠ¤
- ä¸æ”¶é›†ä¸ªäººèº«ä»½ä¿¡æ¯
- ä»…ç”¨äºç½‘ç«™æµé‡åˆ†æ
- æ”¯æŒç”¨æˆ·ç¦ç”¨ç»Ÿè®¡ï¼ˆå¦‚éœ€è¦ï¼‰
- ç¬¦åˆç›¸å…³éšç§æ³•è§„è¦æ±‚

#### ğŸ“ˆ åŠŸèƒ½ç‰¹æ€§

##### 1. é¡µé¢è®¿é—®ç»Ÿè®¡
- è‡ªåŠ¨è¿½è¸ªæ‰€æœ‰é¡µé¢è®¿é—®
- æ”¯æŒå•é¡µåº”ç”¨è·¯ç”±åˆ‡æ¢
- åŒ…å«é¡µé¢åœç•™æ—¶é—´ç»Ÿè®¡
- è®¿é—®æ¥æºå’Œè½¬åŒ–åˆ†æ

##### 2. ç”¨æˆ·è¡Œä¸ºåˆ†æ
- é¡µé¢ç‚¹å‡»çƒ­åŠ›å›¾
- ç”¨æˆ·è·¯å¾„åˆ†æ
- è®¾å¤‡å’Œæµè§ˆå™¨ç»Ÿè®¡
- åœ°ç†ä½ç½®åˆ†æ

##### 3. æ€§èƒ½ç›‘æ§
- é¡µé¢åŠ è½½æ€§èƒ½
- èµ„æºåŠ è½½ç»Ÿè®¡
- é”™è¯¯æ—¥å¿—æ”¶é›†
- ç”¨æˆ·ç«¯æ€§èƒ½æŒ‡æ ‡

#### ğŸ§ª æµ‹è¯•å®ç°

##### åŠŸèƒ½æµ‹è¯•
```typescript
// æµ‹è¯•ç»„ä»¶æ¸²æŸ“
describe('BaiduAnalytics', () => {
  it('should render without analytics ID', () => {
    const { container } = render(<BaiduAnalytics baiduAnalyticsId="" />)
    expect(container).toBeEmptyDOMElement()
  })

  it('should render with analytics ID', () => {
    const { container } = render(<BaiduAnalytics baiduAnalyticsId="test-id" />)
    expect(container).not.toBeEmptyDOMElement()
  })
})

// æµ‹è¯•è·¯ç”±è¿½è¸ª
describe('BaiduAnalytics route tracking', () => {
  it('should track page view on route change', () => {
    const mockPush = vi.fn()
    window._hmt = { push: mockPush }

    const { rerender } = render(<BaiduAnalytics baiduAnalyticsId="test-id" />)

    // æ¨¡æ‹Ÿè·¯ç”±å˜åŒ–
    rerender(<BaiduAnalytics baiduAnalyticsId="test-id" />)

    expect(mockPush).toHaveBeenCalledWith(['_trackPageview', expect.any(String)])
  })
})
```

##### é›†æˆæµ‹è¯•
- ç»„ä»¶åœ¨ä¸åŒé¡µé¢ä¸­çš„æ­£ç¡®åŠ è½½
- è·¯ç”±åˆ‡æ¢æ—¶çš„ç»Ÿè®¡è¿½è¸ª
- ç¯å¢ƒå˜é‡é…ç½®éªŒè¯
- å¤šè¯­è¨€é¡µé¢è¿½è¸ªæµ‹è¯•

#### ğŸš¨ ç›‘æ§å’Œç»´æŠ¤

##### æ•°æ®éªŒè¯
- å®šæœŸæ£€æŸ¥ç»Ÿè®¡æ•°æ®å®Œæ•´æ€§
- ç›‘æ§è„šæœ¬åŠ è½½æˆåŠŸç‡
- éªŒè¯é¡µé¢è®¿é—®æ•°æ®å‡†ç¡®æ€§
- æ£€æŸ¥å¼‚å¸¸è®¿é—®æ¨¡å¼

##### æ€§èƒ½ç›‘æ§
- ç»Ÿè®¡è„šæœ¬åŠ è½½æ—¶é—´ç›‘æ§
- é¡µé¢æ€§èƒ½å½±å“è¯„ä¼°
- ç½‘ç»œè¯·æ±‚ä¼˜åŒ–
- ç¼“å­˜ç­–ç•¥æ•ˆæœéªŒè¯

#### ğŸ¯ æˆåŠŸéªŒæ”¶æ ‡å‡†

##### åŠŸèƒ½éªŒæ”¶
- [ ] ç™¾åº¦ç»Ÿè®¡è„šæœ¬åœ¨æ‰€æœ‰é¡µé¢æ­£ç¡®åŠ è½½
- [ ] SPAè·¯ç”±åˆ‡æ¢æ—¶è‡ªåŠ¨å‘é€è®¿é—®ç»Ÿè®¡
- [ ] å¤šè¯­è¨€é¡µé¢è®¿é—®æ•°æ®æ­£ç¡®æ”¶é›†
- [ ] ç¯å¢ƒå˜é‡é…ç½®åŠŸèƒ½æ­£å¸¸
- [ ] æœªé…ç½®ç»Ÿè®¡IDæ—¶ä¼˜é›…é™çº§

##### æ€§èƒ½éªŒæ”¶
- [ ] ç»Ÿè®¡è„šæœ¬ä¸å½±å“é¡µé¢åŠ è½½æ€§èƒ½
- [ ] è·¯ç”±åˆ‡æ¢è¿½è¸ªå“åº”æ—¶é—´ < 100ms
- [ ] å†…å­˜ä½¿ç”¨åˆç†ï¼Œæ— å†…å­˜æ³„æ¼
- [ ] ç½‘ç»œè¯·æ±‚æ•°é‡æœ€å°åŒ–

##### å…¼å®¹æ€§éªŒæ”¶
- [ ] æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨
- [ ] ç§»åŠ¨ç«¯è®¾å¤‡æ­£å¸¸å·¥ä½œ
- [ ] ä¸ç°æœ‰ç³»ç»Ÿå®Œå…¨å…¼å®¹
- [ ] å¤šè¯­è¨€ç¯å¢ƒæ­£å¸¸è¿½è¸ª

##### å®‰å…¨éªŒæ”¶
- [ ] ç»Ÿè®¡IDå®‰å…¨å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­
- [ ] ä¸æ”¶é›†æ•æ„Ÿç”¨æˆ·ä¿¡æ¯
- [ ] ç¬¦åˆéšç§ä¿æŠ¤è¦æ±‚
- [ ] è„šæœ¬åŠ è½½å®‰å…¨æ€§éªŒè¯

### v6.0 - SEOå…³é”®è¯ä¼˜åŒ–å®ç°

#### ğŸ“ è¿­ä»£èƒŒæ™¯

ä¸ºæå‡ImagePrompt.Heç½‘ç«™åœ¨æœç´¢å¼•æ“ä¸­çš„æ’åå’Œå¯è§åº¦ï¼Œå®æ–½å…¨é¢çš„SEOå…³é”®è¯ä¼˜åŒ–ç­–ç•¥ã€‚å›´ç»•æ ¸å¿ƒå…³é”®è¯"image to prompt"ã€"image to prompt generator"ã€"image prompt"ã€"image prompt generator"ã€"prompt generator"è¿›è¡Œç³»ç»Ÿæ€§çš„é¡µé¢å†…å®¹ä¼˜åŒ–ï¼ŒåŒ…æ‹¬å…ƒæ•°æ®ã€é¡µé¢ç»“æ„ã€å†…å®¹å¸ƒå±€ç­‰å¤šä¸ªç»´åº¦ã€‚

#### ğŸ¯ SEOä¼˜åŒ–ç›®æ ‡

##### æ ¸å¿ƒSEOç›®æ ‡
- æå‡5ä¸ªæ ¸å¿ƒå…³é”®è¯çš„æœç´¢å¼•æ“æ’å
- å¢åŠ æœ‰æœºæœç´¢æµé‡
- æé«˜é¡µé¢ç‚¹å‡»ç‡(CTR)
- ä¼˜åŒ–é¡µé¢åŠ è½½æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ
- å»ºç«‹ä¸“ä¸šçš„å†…å®¹æƒå¨æ€§

##### æŠ€æœ¯ç›®æ ‡
- å®ç°å®Œæ•´çš„On-Page SEOä¼˜åŒ–
- ç¡®ä¿å¤šè¯­è¨€ç‰ˆæœ¬çš„SEOä¸€è‡´æ€§
- ç»´æŠ¤ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§
- éµå¾ªæœç´¢å¼•æ“æœ€ä½³å®è·µ

#### ğŸ”§ SEOä¼˜åŒ–æ¶æ„è®¾è®¡

##### æ•´ä½“SEOç­–ç•¥
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æœç´¢å¼•æ“       â”‚    â”‚   é¡µé¢SEOä¼˜åŒ–    â”‚    â”‚   å†…å®¹ç­–ç•¥       â”‚
â”‚   (Googleç­‰)     â”‚â—„â”€â”€â–ºâ”‚  (æŠ€æœ¯å®ç°)     â”‚â—„â”€â”€â–ºâ”‚  (å…³é”®è¯å¸ƒå±€)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   å¤šè¯­è¨€æ”¯æŒ     â”‚
                       â”‚  (i18nç³»ç»Ÿ)     â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

##### æ ¸å¿ƒå…³é”®è¯ç­–ç•¥
- **ä¸»è¦å…³é”®è¯**: "image to prompt generator"
- **æ¬¡è¦å…³é”®è¯**: "image to prompt", "image prompt", "image prompt generator", "prompt generator"
- **é•¿å°¾å…³é”®è¯**: "free image to prompt generator", "AI image prompt generator", "best prompt generator"
- **å¤šè¯­è¨€å…³é”®è¯**: æ”¯æŒè‹±æ–‡ã€ä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡çš„å…³é”®è¯ä¼˜åŒ–

#### ğŸ”§ æ ¸å¿ƒå®ç°

##### 1. é¡µé¢å…ƒæ•°æ®ä¼˜åŒ–

###### ä¸»é¡µé¢å…ƒæ•°æ®æ›´æ–° (apps/nextjs/src/config/dictionaries/en.json)
```json
{
  "imageprompt": {
    "meta": {
      "title": "Image Prompt Generator - Free Image to Prompt Generator Tool",
      "description": "Transform images into detailed AI prompts with our free Image to Prompt Generator. Upload photos and generate optimized prompts for Flux, Midjourney, Stable Diffusion. Try the best prompt generator now!",
      "keywords": "image to prompt, image to prompt generator, image prompt, image prompt generator, prompt generator, AI prompt generator, free prompt generator, image to text, AI art prompt"
    }
  }
}
```

###### å¤šè¯­è¨€å…ƒæ•°æ®ä¼˜åŒ–
```json
// ä¸­æ–‡ç‰ˆæœ¬
{
  "imageprompt": {
    "meta": {
      "title": "å›¾ç‰‡è½¬æç¤ºè¯ç”Ÿæˆå™¨ - å…è´¹å›¾ç‰‡è½¬æç¤ºè¯å·¥å…·",
      "description": "ä½¿ç”¨æˆ‘ä»¬çš„å…è´¹å›¾ç‰‡è½¬æç¤ºè¯ç”Ÿæˆå™¨å°†å›¾ç‰‡è½¬æ¢ä¸ºè¯¦ç»†çš„AIæç¤ºè¯ã€‚ä¸Šä¼ ç…§ç‰‡å¹¶ç”Ÿæˆé€‚ç”¨äºFluxã€Midjourneyã€Stable Diffusionçš„ä¼˜åŒ–æç¤ºè¯ã€‚ç«‹å³å°è¯•æœ€ä½³æç¤ºè¯ç”Ÿæˆå™¨ï¼",
      "keywords": "å›¾ç‰‡è½¬æç¤ºè¯, å›¾ç‰‡è½¬æç¤ºè¯ç”Ÿæˆå™¨, å›¾åƒæç¤ºè¯, å›¾åƒæç¤ºè¯ç”Ÿæˆå™¨, æç¤ºè¯ç”Ÿæˆå™¨, AIæç¤ºè¯ç”Ÿæˆå™¨, å…è´¹æç¤ºè¯ç”Ÿæˆå™¨, å›¾åƒè½¬æ–‡æœ¬, AIè‰ºæœ¯æç¤ºè¯"
    }
  }
}
```

##### 2. é¡µé¢ç»“æ„ä¼˜åŒ–

###### SEOç»„ä»¶æ¶æ„
```
apps/nextjs/src/components/imageprompt/
â”œâ”€â”€ hero-section.tsx          # è‹±é›„åŒºåŸŸ - åŒ…å«H1æ ‡é¢˜å’Œå…³é”®è¯
â”œâ”€â”€ features-grid.tsx         # åŠŸèƒ½å±•ç¤º - å…³é”®è¯æè¿°
â”œâ”€â”€ tools-suite.tsx           # å·¥å…·å¥—ä»¶ - åŠŸèƒ½å…³é”®è¯
â”œâ”€â”€ seo-advantages.tsx       # SEOä¼˜åŠ¿ - æ–°å¢ç»„ä»¶
â””â”€â”€ use-cases.tsx            # ç”¨ä¾‹å±•ç¤º - æ–°å¢ç»„ä»¶
```

###### SEOä¼˜åŠ¿ç»„ä»¶å®ç° (apps/nextjs/src/components/imageprompt/seo-advantages.tsx)
```typescript
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@saasfly/ui/card"
import { Badge } from "@saasfly/ui/badge"
import { Icons } from "@saasfly/ui/icons"

export function SeoAdvantages() {
  const advantages = [
    {
      title: "Free to Use",
      description: "Our image to prompt generator is completely free with no hidden costs",
      icon: "Gift",
      keywords: ["free image to prompt", "free prompt generator"]
    },
    {
      title: "Multiple AI Models",
      description: "Generate prompts optimized for Flux, Midjourney, and Stable Diffusion",
      icon: "Zap",
      keywords: ["image prompt generator", "AI prompt generator"]
    },
    {
      title: "Fast Processing",
      description: "Transform images to detailed prompts in seconds",
      icon: "Timer",
      keywords: ["image to prompt", "quick prompt generator"]
    },
    {
      title: "High Quality",
      description: "Get professional-grade AI art prompts every time",
      icon: "Star",
      keywords: ["best prompt generator", "quality image prompt"]
    },
    {
      title: "Multi-Language",
      description: "Support for English, Chinese, Japanese, and Korean",
      icon: "Languages",
      keywords: ["multilingual prompt generator", "global image prompt"]
    },
    {
      title: "Easy to Use",
      description: "Simple interface for effortless image to prompt conversion",
      icon: "MousePointer",
      keywords: ["easy prompt generator", "simple image to prompt"]
    }
  ]

  return (
    <section className="container mx-auto px-4 py-12">
      <div className="text-center mb-12">
        <h2 className="text-3xl font-bold mb-4">Why Choose Our Image Prompt Generator</h2>
        <p className="text-muted-foreground max-w-2xl mx-auto">
          Experience the best free image to prompt generator with advanced AI technology
        </p>
      </div>

      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {advantages.map((advantage, index) => {
          const Icon = Icons[advantage.icon]
          return (
            <Card key={index} className="hover:shadow-lg transition-shadow">
              <CardHeader>
                <div className="flex items-center gap-2">
                  <Icon className="h-5 w-5 text-primary" />
                  <CardTitle className="text-lg">{advantage.title}</CardTitle>
                </div>
                <CardDescription>{advantage.description}</CardDescription>
              </CardHeader>
              <CardContent>
                <div className="flex flex-wrap gap-2">
                  {advantage.keywords.map((keyword, idx) => (
                    <Badge key={idx} variant="secondary" className="text-xs">
                      {keyword}
                    </Badge>
                  ))}
                </div>
              </CardContent>
            </Card>
          )
        })}
      </div>
    </section>
  )
}
```

###### ç”¨ä¾‹å±•ç¤ºç»„ä»¶å®ç° (apps/nextjs/src/components/imageprompt/use-cases.tsx)
```typescript
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@saasfly/ui/card"
import { Icons } from "@saasfly/ui/icons"

export function UseCases() {
  const useCases = [
    {
      title: "Digital Art Creation",
      description: "Perfect for artists seeking inspiration and detailed prompts for their digital creations",
      icon: "Palette",
      category: "Creative"
    },
    {
      title: "Content Marketing",
      description: "Generate compelling visuals for blogs, social media, and marketing campaigns",
      icon: "Megaphone",
      category: "Marketing"
    },
    {
      title: "AI Art Generation",
      description: "Create stunning AI artwork with optimized prompts for any AI image generator",
      icon: "Sparkles",
      category: "AI Tools"
    },
    {
      title: "Photo Enhancement",
      description: "Transform ordinary photos into extraordinary AI-generated masterpieces",
      icon: "Camera",
      category: "Photography"
    },
    {
      title: "Game Development",
      description: "Generate concept art and character designs for game development projects",
      icon: "Gamepad2",
      category: "Gaming"
    },
    {
      title: "Educational Content",
      description: "Create engaging visual content for educational materials and presentations",
      icon: "GraduationCap",
      category: "Education"
    }
  ]

  const features = [
    {
      title: "Multiple File Formats",
      description: "Support for PNG, JPG, and WEBP files up to 5MB",
      icon: "FileImage"
    },
    {
      title: "Drag & Drop Upload",
      description: "Easy image upload with intuitive drag and drop interface",
      icon: "Upload"
    },
    {
      title: "URL Support",
      description: "Direct image upload from URL for quick processing",
      icon: "Link"
    },
    {
      title: "Instant Preview",
      description: "Real-time image preview before prompt generation",
      icon: "Eye"
    },
    {
      title: "Language Options",
      description: "Generate prompts in multiple languages for global users",
      icon: "Languages"
    },
    {
      title: "Model Optimization",
      description: "Specialized prompts for different AI models and platforms",
      icon: "Settings"
    }
  ]

  return (
    <section className="container mx-auto px-4 py-12">
      {/* Use Cases Section */}
      <div className="mb-16">
        <div className="text-center mb-12">
          <h2 className="text-3xl font-bold mb-4">Perfect Use Cases for Image to Prompt</h2>
          <p className="text-muted-foreground max-w-2xl mx-auto">
            Discover how our free image to prompt generator can enhance your creative workflow
          </p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {useCases.map((useCase, index) => {
            const Icon = Icons[useCase.icon]
            return (
              <Card key={index} className="hover:shadow-lg transition-shadow">
                <CardHeader>
                  <div className="flex items-center gap-2">
                    <Icon className="h-5 w-5 text-primary" />
                    <div>
                      <CardTitle className="text-lg">{useCase.title}</CardTitle>
                      <Badge variant="outline" className="mt-1 text-xs">
                        {useCase.category}
                      </Badge>
                    </div>
                  </div>
                  <CardDescription>{useCase.description}</CardDescription>
                </CardHeader>
              </Card>
            )
          })}
        </div>
      </div>

      {/* Features Section */}
      <div>
        <div className="text-center mb-12">
          <h2 className="text-3xl font-bold mb-4">Powerful Features of Our Prompt Generator</h2>
          <p className="text-muted-foreground max-w-2xl mx-auto">
            Experience the best image to prompt generator with advanced features
          </p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {features.map((feature, index) => {
            const Icon = Icons[feature.icon]
            return (
              <Card key={index} className="hover:shadow-lg transition-shadow">
                <CardHeader>
                  <div className="flex items-center gap-3">
                    <Icon className="h-6 w-6 text-primary" />
                    <CardTitle className="text-lg">{feature.title}</CardTitle>
                  </div>
                  <CardDescription>{feature.description}</CardDescription>
                </CardHeader>
              </Card>
            )
          })}
        </div>
      </div>
    </section>
  )
}
```

##### 3. ä¸»é¡µé¢SEOç»“æ„ä¼˜åŒ–

###### ä¸»é¡µé¢å¸ƒå±€æ›´æ–° (apps/nextjs/src/app/[lang]/(marketing)/page.tsx)
```typescript
import { Metadata } from "next"
import { getDictionary } from "@/config/dictionaries"
import { ImagePromptHeroSection } from "@/components/imageprompt/hero-section"
import { ImagePromptFeaturesGrid } from "@/components/imageprompt/features-grid"
import { ImagePromptToolsSuite } from "@/components/imageprompt/tools-suite"
import { SeoAdvantages } from "@/components/imageprompt/seo-advantages"
import { UseCases } from "@/components/imageprompt/use-cases"

export async function generateMetadata({
  params: { lang },
}: {
  params: { lang: string }
}): Promise<Metadata> {
  const dict = await getDictionary(lang)

  return {
    title: dict.imageprompt.meta.title,
    description: dict.imageprompt.meta.description,
    keywords: dict.imageprompt.meta.keywords,
    openGraph: {
      title: dict.imageprompt.meta.title,
      description: dict.imageprompt.meta.description,
      type: "website",
      locale: lang,
    },
    twitter: {
      card: "summary_large_image",
      title: dict.imageprompt.meta.title,
      description: dict.imageprompt.meta.description,
    },
    alternates: {
      canonical: `/${lang}`,
      languages: {
        'en': '/en',
        'zh': '/zh',
        'ja': '/ja',
        'ko': '/ko'
      }
    }
  }
}

export default async function ImagePromptHomePage({
  params: { lang },
}: {
  params: { lang: string }
}) {
  const dict = await getDictionary(lang)

  return (
    <div className="min-h-screen">
      {/* Hero Section - H1 and primary keywords */}
      <ImagePromptHeroSection
        dict={dict.imageprompt.hero}
        lang={lang}
      />

      {/* Features Grid - Secondary keywords */}
      <ImagePromptFeaturesGrid
        features={dict.imageprompt.features}
        interested={dict.imageprompt.interested}
      />

      {/* Tools Suite - Tool-related keywords */}
      <ImagePromptToolsSuite dict={dict.imageprompt.tools} />

      {/* SEO Advantages - Keyword-rich content */}
      <SeoAdvantages />

      {/* Use Cases - Long-tail keywords */}
      <UseCases />
    </div>
  )
}
```

##### 4. å¤šè¯­è¨€SEOä¼˜åŒ–

###### è‹±æ–‡SEOä¼˜åŒ–å†…å®¹
```json
{
  "imageprompt": {
    "hero": {
      "title_prefix": "Create Better AI Art with",
      "title_highlight": "Image Prompt",
      "title_suffix": "Generator",
      "subtitle": "Transform images into detailed AI prompts with our free Image to Prompt Generator. The ultimate tool for AI artists and content creators.",
      "cta_primary": "Try it now!",
      "cta_secondary": "Learn More"
    },
    "features": [
      {
        "title": "Image to Prompt",
        "description": "Convert any image to detailed AI prompts. Our free image to prompt generator supports multiple formats and delivers high-quality results.",
        "icon": "Image"
      },
      {
        "title": "Magic Enhance",
        "description": "Transform simple ideas into comprehensive AI art prompts with our intelligent prompt generator.",
        "icon": "Wand2"
      }
    ]
  }
}
```

###### ä¸­æ–‡SEOä¼˜åŒ–å†…å®¹
```json
{
  "imageprompt": {
    "hero": {
      "title_prefix": "ä½¿ç”¨",
      "title_highlight": "å›¾ç‰‡è½¬æç¤ºè¯",
      "title_suffix": "åˆ›ä½œæ›´å¥½çš„AIè‰ºæœ¯",
      "subtitle": "ä½¿ç”¨æˆ‘ä»¬çš„å…è´¹å›¾ç‰‡è½¬æç¤ºè¯ç”Ÿæˆå™¨å°†å›¾ç‰‡è½¬æ¢ä¸ºè¯¦ç»†çš„AIæç¤ºè¯ã€‚AIè‰ºæœ¯å®¶å’Œå†…å®¹åˆ›ä½œè€…çš„ç»ˆæå·¥å…·ã€‚",
      "cta_primary": "ç«‹å³è¯•ç”¨ï¼",
      "cta_secondary": "äº†è§£æ›´å¤š"
    },
    "features": [
      {
        "title": "å›¾ç‰‡è½¬æç¤ºè¯",
        "description": "å°†ä»»ä½•å›¾ç‰‡è½¬æ¢ä¸ºè¯¦ç»†çš„AIæç¤ºè¯ã€‚æˆ‘ä»¬çš„å…è´¹å›¾ç‰‡è½¬æç¤ºè¯ç”Ÿæˆå™¨æ”¯æŒå¤šç§æ ¼å¼å¹¶æä¾›é«˜è´¨é‡ç»“æœã€‚",
        "icon": "Image"
      },
      {
        "title": "é­”æ³•å¢å¼º",
        "description": "ä½¿ç”¨æˆ‘ä»¬çš„æ™ºèƒ½æç¤ºè¯ç”Ÿæˆå™¨å°†ç®€å•æƒ³æ³•è½¬æ¢ä¸ºå…¨é¢çš„AIè‰ºæœ¯æç¤ºè¯ã€‚",
        "icon": "Wand2"
      }
    ]
  }
}
```

#### ğŸ“Š SEOæŠ€æœ¯ç‰¹ç‚¹

##### 1. å…³é”®è¯ç­–ç•¥
- **ä¸»è¦å…³é”®è¯å¯†åº¦**: 1-2% (è‡ªç„¶åˆ†å¸ƒ)
- **å…³é”®è¯ä½ç½®**: H1æ ‡é¢˜ã€æ®µè½å¼€å¤´ã€å…ƒæ•°æ®
- **è¯­ä¹‰å…³é”®è¯**: ç›¸å…³è¯æ±‡å’ŒåŒä¹‰è¯
- **é•¿å°¾å…³é”®è¯**: å…·ä½“ä½¿ç”¨åœºæ™¯ç›¸å…³è¯æ±‡

##### 2. å†…å®¹ç»“æ„ä¼˜åŒ–
- **H1-H6æ ‡ç­¾å±‚æ¬¡**: æ¸…æ™°çš„æ ‡é¢˜ç»“æ„
- **æ®µè½é•¿åº¦**: 2-4å¥è¯ï¼Œä¾¿äºé˜…è¯»
- **å†…å®¹æ·±åº¦**: è¯¦ç»†ä¸”æœ‰ä»·å€¼çš„ä¿¡æ¯
- **å†…éƒ¨é“¾æ¥**: ç›¸å…³é¡µé¢çš„é“¾æ¥ç»“æ„

##### 3. æŠ€æœ¯SEO
- **é¡µé¢åŠ è½½é€Ÿåº¦**: ä¼˜åŒ–çš„å›¾ç‰‡å’Œä»£ç 
- **ç§»åŠ¨ç«¯å‹å¥½**: å“åº”å¼è®¾è®¡
- **ç»“æ„åŒ–æ•°æ®**: Schema.orgæ ‡è®°
- **XMLç«™ç‚¹åœ°å›¾**: è‡ªåŠ¨ç”Ÿæˆ

##### 4. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- **é¡µé¢åœç•™æ—¶é—´**: å¸å¼•äººçš„å†…å®¹
- **è·³å‡ºç‡**: å†…éƒ¨é“¾æ¥å’ŒCTA
- **è½¬åŒ–ç‡**: æ¸…æ™°çš„ä»·å€¼ä¸»å¼ 
- **ç¤¾äº¤åˆ†äº«**: ä¼˜åŒ–çš„åˆ†äº«åŠŸèƒ½

#### ğŸŒ å›½é™…åŒ–SEO

##### å¤šè¯­è¨€æ”¯æŒ
- **hreflangæ ‡ç­¾**: æ­£ç¡®çš„è¯­è¨€æŒ‡ç¤º
- **æœ¬åœ°åŒ–å†…å®¹**: ä¸ä»…ä»…æ˜¯ç¿»è¯‘
- **æœ¬åœ°å…³é”®è¯**: å„è¯­è¨€çš„å…³é”®è¯ç ”ç©¶
- **æ–‡åŒ–é€‚åº”**: ç¬¦åˆå½“åœ°ç”¨æˆ·ä¹ æƒ¯

##### URLç»“æ„
```
https://imageprompt.he/en          # è‹±æ–‡ç‰ˆæœ¬
https://imageprompt.he/zh          # ä¸­æ–‡ç‰ˆæœ¬
https://imageprompt.he/ja          # æ—¥æ–‡ç‰ˆæœ¬
https://imageprompt.he/ko          # éŸ©æ–‡ç‰ˆæœ¬
```

#### ğŸ”’ SEOå®‰å…¨è€ƒè™‘

##### ç™½å¸½SEOæŠ€æœ¯
- éµå¾ªæœç´¢å¼•æ“æŒ‡å—
- ä¸ä½¿ç”¨å…³é”®è¯å †ç Œ
- é«˜è´¨é‡åŸåˆ›å†…å®¹
- è‡ªç„¶çš„é“¾æ¥å»ºè®¾

##### å†…å®¹è´¨é‡
- æä¾›çœŸå®ä»·å€¼
- è§£å†³ç”¨æˆ·é—®é¢˜
- ä¸“ä¸šä¸”æƒå¨çš„ä¿¡æ¯
- å®šæœŸå†…å®¹æ›´æ–°

#### ğŸ“ˆ SEOæ€§èƒ½ç›‘æ§

##### å…³é”®æŒ‡æ ‡
- **å…³é”®è¯æ’å**: æ ¸å¿ƒå…³é”®è¯çš„æœç´¢æ’å
- **æœ‰æœºæµé‡**: æœç´¢å¼•æ“å¸¦æ¥çš„è®¿é—®é‡
- **ç‚¹å‡»ç‡**: æœç´¢ç»“æœä¸­çš„ç‚¹å‡»ç‡
- **è½¬åŒ–ç‡**: è®¿é—®åˆ°ä½¿ç”¨çš„è½¬åŒ–ç‡
- **é¡µé¢åœç•™æ—¶é—´**: ç”¨æˆ·åœ¨é¡µé¢çš„åœç•™æ—¶é—´

##### ç›‘æ§å·¥å…·
- Google Search Console
- Google Analytics
- ç™¾åº¦ç»Ÿè®¡
- ç¬¬ä¸‰æ–¹SEOå·¥å…·

#### ğŸ§ª SEOæµ‹è¯•

##### åŠŸèƒ½æµ‹è¯•
- å…ƒæ•°æ®æ­£ç¡®æ˜¾ç¤º
- å…³é”®è¯åœ¨é¡µé¢ä¸­æ­£ç¡®åˆ†å¸ƒ
- å¤šè¯­è¨€åˆ‡æ¢æ­£å¸¸å·¥ä½œ
- é¡µé¢åŠ è½½æ€§èƒ½è¾¾æ ‡

##### å…¼å®¹æ€§æµ‹è¯•
- æœç´¢å¼•æ“æŠ“å–æµ‹è¯•
- ç§»åŠ¨ç«¯å‹å¥½æµ‹è¯•
- ä¸åŒæµè§ˆå™¨æµ‹è¯•
- è¾…åŠ©åŠŸèƒ½æµ‹è¯•

#### ğŸ¯ SEOæˆåŠŸæ ‡å‡†

##### æ’åç›®æ ‡
- æ ¸å¿ƒå…³é”®è¯è¿›å…¥å‰3é¡µ
- å“ç‰Œå…³é”®è¯æ’åç¬¬1
- é•¿å°¾å…³é”®è¯è‰¯å¥½æ’å

##### æµé‡ç›®æ ‡
- æœ‰æœºæµé‡å¢é•¿50%
- åœç•™æ—¶é—´å¢åŠ 30%
- è·³å‡ºç‡é™ä½20%

##### ç”¨æˆ·ä½“éªŒ
- é¡µé¢åŠ è½½æ—¶é—´<3ç§’
- ç§»åŠ¨ç«¯ä½“éªŒä¼˜ç§€
- å†…å®¹æ»¡è¶³ç”¨æˆ·éœ€æ±‚
- è½¬åŒ–ç‡æå‡